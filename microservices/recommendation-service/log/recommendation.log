2022-02-09 13:30:02.961  INFO 526 --- [Test worker] s.m.m.c.recommendation.PersistenceTests  : Starting PersistenceTests using Java 1.8.0_312 on MTNB1007 with PID 526 (started by andika in /mnt/d/development/Hands-On-Microservices-with-Spring-Boot-and-Spring-Cloud/Chapter09/microservices/recommendation-service)
2022-02-09 13:30:02.965 DEBUG 526 --- [Test worker] s.m.m.c.recommendation.PersistenceTests  : Running with Spring Boot v2.6.3, Spring v5.3.15
2022-02-09 13:30:02.965  INFO 526 --- [Test worker] s.m.m.c.recommendation.PersistenceTests  : No active profile set, falling back to default profiles: default
2022-02-09 13:30:03.043  WARN 526 --- [Test worker] o.s.b.c.config.ConfigDataEnvironment     : Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 63:18]
2022-02-09 13:30:05.105  INFO 526 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2022-02-09 13:30:06.245  INFO 526 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1117 ms. Found 1 Reactive MongoDB repository interfaces.
2022-02-09 13:30:06.515  INFO 526 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2022-02-09 13:30:06.615  INFO 526 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2022-02-09 13:30:06.685  INFO 526 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2022-02-09 13:30:07.583  INFO 526 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:30:08.993  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:08.993+08:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"-","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 13:30:09.003  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:08.993+08:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
2022-02-09 13:30:09.004  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:08.996+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 13:30:09.004  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:08.996+08:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
2022-02-09 13:30:09.005  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:08.997+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 13:30:09.005  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:08.997+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"main","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","ns":"config.tenantMigrationDonors"}}
2022-02-09 13:30:09.006  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:08.997+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"main","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","ns":"config.tenantMigrationRecipients"}}
2022-02-09 13:30:09.007  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:08.997+08:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"main","msg":"Multi threading initialized"}
2022-02-09 13:30:09.007  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:08.997+08:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":560,"port":27017,"dbPath":"/tmp/embedmongo-db-4ce03184-2c78-4a55-b9fd-911e6ce5312f","architecture":"64-bit","host":"MTNB1007"}}
2022-02-09 13:30:09.007  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:08.997+08:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"5.0.5","gitVersion":"d65fd89df3fc039b5c55933c0f71d647a54510ae","openSSLVersion":"OpenSSL 1.1.1f  31 Mar 2020","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu2004","distarch":"x86_64","target_arch":"x86_64"}}}}
2022-02-09 13:30:09.008  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:08.997+08:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"20.04"}}}
2022-02-09 13:30:09.008  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:08.997+08:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":27017},"security":{"authorization":"disabled"},"storage":{"dbPath":"/tmp/embedmongo-db-4ce03184-2c78-4a55-b9fd-911e6ce5312f","journal":{"enabled":false},"syncPeriodSecs":0}}}}
2022-02-09 13:30:09.009  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:08.998+08:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
2022-02-09 13:30:09.010  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:08.998+08:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=5789M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
2022-02-09 13:30:09.509  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.509+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644384609:509295][560:0x7fbbcb2adc80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global recovery timestamp: (0, 0)"}}
2022-02-09 13:30:09.510  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.509+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644384609:509382][560:0x7fbbcb2adc80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global oldest timestamp: (0, 0)"}}
2022-02-09 13:30:09.541  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.540+08:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":542}}
2022-02-09 13:30:09.542  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.540+08:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
2022-02-09 13:30:09.585  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.585+08:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
2022-02-09 13:30:09.587  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.585+08:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
2022-02-09 13:30:09.598  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.597+08:00"},"s":"W",  "c":"CONTROL",  "id":22178,   "ctx":"initandlisten","msg":"/sys/kernel/mm/transparent_hugepage/enabled is 'always'. We suggest setting it to 'never'","tags":["startupWarnings"]}
2022-02-09 13:30:09.599  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.597+08:00"},"s":"W",  "c":"CONTROL",  "id":22184,   "ctx":"initandlisten","msg":"Soft rlimits for open file descriptors too low","attr":{"currentValue":4096,"recommendedMinimum":64000},"tags":["startupWarnings"]}
2022-02-09 13:30:09.600  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.598+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"134731c4-3eea-45cf-a335-e43dc2ed12b5"}},"options":{"uuid":{"$uuid":"134731c4-3eea-45cf-a335-e43dc2ed12b5"}}}}
2022-02-09 13:30:09.635  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.635+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":null}}
2022-02-09 13:30:09.636  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.635+08:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"5.0"}}
2022-02-09 13:30:09.637  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.635+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 13:30:09.638  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.635+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 13:30:09.638  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.636+08:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
2022-02-09 13:30:09.639  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.636+08:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
2022-02-09 13:30:09.640  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.637+08:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/embedmongo-db-4ce03184-2c78-4a55-b9fd-911e6ce5312f/diagnostic.data"}}
2022-02-09 13:30:09.641  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.637+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"909d8251-869f-4108-8fef-16d6f98686fd"}},"options":{"capped":true,"size":10485760}}}
2022-02-09 13:30:09.662  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.662+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":null}}
2022-02-09 13:30:09.663  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.662+08:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
2022-02-09 13:30:09.663  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.663+08:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
2022-02-09 13:30:09.664  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.663+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"/tmp/mongodb-27017.sock"}}
2022-02-09 13:30:09.664  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.663+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d9de2fcc-c467-4be3-a1d1-97128da0b487"}},"options":{}}}
2022-02-09 13:30:09.665  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.663+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
2022-02-09 13:30:09.665  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.663+08:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":27017,"ssl":"off"}}
2022-02-09 13:30:09.666  INFO 526 --- [Test worker] d.f.embed.mongo.MongodExecutable         : start MongodConfig{version=Version{5.0.5}, timeout=de.flapdoodle.embed.mongo.config.Timeout@46aa712c, net=de.flapdoodle.embed.mongo.config.Net@6ada9c0c, cmdOptions=MongoCmdOptions{syncDelay=0, useDefaultSyncDelay=false, isVerbose=false, useNoPrealloc=true, useSmallFiles=true, useNoJournal=true, enableTextSearch=false, auth=false, master=false}, password=, userName=, replication=de.flapdoodle.embed.mongo.config.Storage@7412ed6b, isConfigServer=false, isShardServer=false, processListener=de.flapdoodle.embed.mongo.config.processlistener.NoopProcessListener@6e7c351d, params={}, args={}, pidFile=mongod.pid, supportConfig=de.flapdoodle.embed.mongo.config.SupportConfig@7b4a0aef}
2022-02-09 13:30:09.693  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.692+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":null}}
2022-02-09 13:30:09.693  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:09.693+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":null}}
2022-02-09 13:30:11.133  INFO 526 --- [Test worker] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}
2022-02-09 13:30:11.902  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:11.902+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:46958","uuid":"43039d44-e346-47bc-9fab-63592a1dc323","connectionId":1,"connectionCount":1}}
2022-02-09 13:30:11.903  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:11.902+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:46960","uuid":"ab8ca223-34a3-4111-8789-2236faea02f5","connectionId":2,"connectionCount":2}}
2022-02-09 13:30:12.112  WARN 526 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 13:30:12.152  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:12.152+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:46958","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 13:30:12.155  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:12.152+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:46960","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 13:30:12.249  INFO 526 --- [cluster-ClusterId{value='620351636e0a8b4a58f3afe3', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:27017
2022-02-09 13:30:12.249  INFO 526 --- [cluster-rtt-ClusterId{value='620351636e0a8b4a58f3afe3', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:27017
2022-02-09 13:30:12.250  INFO 526 --- [cluster-ClusterId{value='620351636e0a8b4a58f3afe3', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=316286200}
2022-02-09 13:30:12.718  WARN 526 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 13:30:17.413  INFO 526 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 13:30:17.414  INFO 526 --- [Test worker] o.s.i.channel.PublishSubscribeChannel    : Channel 'recommendation.errorChannel' has 1 subscriber(s).
2022-02-09 13:30:17.415  INFO 526 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2022-02-09 13:30:18.174  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:18.174+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:46964","uuid":"675ee1e8-ef74-4c56-b027-485efa5ba4c0","connectionId":3,"connectionCount":3}}
2022-02-09 13:30:18.190  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:18.190+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:46964","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 13:30:18.207  INFO 526 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:3}] to localhost:27017
2022-02-09 13:30:18.293  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:18.293+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"recommendation-db.recommendations","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"d629b97e-2722-495c-aafc-cebe2a2095c2"}},"options":{}}}
2022-02-09 13:30:18.332  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:18.332+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"recommendation-db.recommendations","index":"_id_","commitTimestamp":null}}
2022-02-09 13:30:18.346  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:18.332+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"recommendation-db.recommendations","index":"prod-rec-id","commitTimestamp":null}}
2022-02-09 13:30:18.375  INFO 526 --- [Test worker] s.m.m.c.recommendation.PersistenceTests  : Started PersistenceTests in 19.452 seconds (JVM running for 23.971)
2022-02-09 13:30:21.076  INFO 526 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [se.magnus.microservices.core.recommendation.RecommendationServiceApplicationTests], using SpringBootContextLoader
2022-02-09 13:30:21.095  INFO 526 --- [Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [se.magnus.microservices.core.recommendation.RecommendationServiceApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-02-09 13:30:21.095  INFO 526 --- [Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [se.magnus.microservices.core.recommendation.RecommendationServiceApplicationTests]: RecommendationServiceApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-02-09 13:30:21.108  INFO 526 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration se.magnus.microservices.core.recommendation.RecommendationServiceApplication for test class se.magnus.microservices.core.recommendation.RecommendationServiceApplicationTests
2022-02-09 13:30:21.132  INFO 526 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2022-02-09 13:30:21.137  INFO 526 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3e52ed5d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6a96d639, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@28e94c2, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3d40498a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@14d1737a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@482a58c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3e74fd84, org.springframework.test.context.event.EventPublishingTestExecutionListener@147efd9, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1e120628, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4e4894d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1de5cc88, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@23e2c1ca, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2d4fb0d8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@dc1fadd]
2022-02-09 13:30:22.451  INFO 526 --- [Test worker] .r.RecommendationServiceApplicationTests : Starting RecommendationServiceApplicationTests using Java 1.8.0_312 on MTNB1007 with PID 526 (started by andika in /mnt/d/development/Hands-On-Microservices-with-Spring-Boot-and-Spring-Cloud/Chapter09/microservices/recommendation-service)
2022-02-09 13:30:22.452 DEBUG 526 --- [Test worker] .r.RecommendationServiceApplicationTests : Running with Spring Boot v2.6.3, Spring v5.3.15
2022-02-09 13:30:22.452  INFO 526 --- [Test worker] .r.RecommendationServiceApplicationTests : No active profile set, falling back to default profiles: default
2022-02-09 13:30:22.468  WARN 526 --- [Test worker] o.s.b.c.config.ConfigDataEnvironment     : Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 63:18]
2022-02-09 13:30:26.955  INFO 526 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2022-02-09 13:30:27.216  INFO 526 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 258 ms. Found 1 Reactive MongoDB repository interfaces.
2022-02-09 13:30:28.186  INFO 526 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2022-02-09 13:30:28.186  INFO 526 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2022-02-09 13:30:28.205  INFO 526 --- [Test worker] o.s.cloud.context.scope.GenericScope     : BeanFactory id=14bf1391-37fe-339f-842c-2222517986b7
2022-02-09 13:30:29.006  INFO 526 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:30:29.098  INFO 526 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration' of type [org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:30:29.139  INFO 526 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'bindersHealthContributor' of type [org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration$BindersHealthContributor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:30:29.161  INFO 526 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'bindersHealthIndicatorListener' of type [org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration$BindersHealthIndicatorListener] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:30:29.306  INFO 526 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:30:29.433  INFO 526 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:30:29.444  INFO 526 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:30:29.474  INFO 526 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:30:30.964  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:30.964+08:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"-","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 13:30:30.967  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:30.964+08:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"main","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
2022-02-09 13:30:30.968  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:30.964+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 13:30:30.968  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:30.964+08:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
2022-02-09 13:30:30.970  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:30.966+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 13:30:30.970  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:30.966+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"main","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","ns":"config.tenantMigrationDonors"}}
2022-02-09 13:30:30.971  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:30.966+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"main","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","ns":"config.tenantMigrationRecipients"}}
2022-02-09 13:30:30.972  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:30.966+08:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"main","msg":"Multi threading initialized"}
2022-02-09 13:30:30.972  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:30.966+08:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":608,"port":44863,"dbPath":"/tmp/embedmongo-db-892a2de9-4c3d-4c74-839a-f32ae24d207d","architecture":"64-bit","host":"MTNB1007"}}
2022-02-09 13:30:30.973  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:30.966+08:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"5.0.5","gitVersion":"d65fd89df3fc039b5c55933c0f71d647a54510ae","openSSLVersion":"OpenSSL 1.1.1f  31 Mar 2020","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu2004","distarch":"x86_64","target_arch":"x86_64"}}}}
2022-02-09 13:30:30.973  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:30.966+08:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"20.04"}}}
2022-02-09 13:30:30.974  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:30.966+08:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":44863},"security":{"authorization":"disabled"},"storage":{"dbPath":"/tmp/embedmongo-db-892a2de9-4c3d-4c74-839a-f32ae24d207d","journal":{"enabled":false},"syncPeriodSecs":0}}}}
2022-02-09 13:30:30.974  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:30.967+08:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
2022-02-09 13:30:30.974  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:30.967+08:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=5789M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
2022-02-09 13:30:31.461  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.461+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644384631:461527][608:0x7f4a88b44c80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global recovery timestamp: (0, 0)"}}
2022-02-09 13:30:31.462  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.461+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644384631:461590][608:0x7f4a88b44c80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global oldest timestamp: (0, 0)"}}
2022-02-09 13:30:31.489  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.489+08:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":522}}
2022-02-09 13:30:31.490  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.489+08:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
2022-02-09 13:30:31.525  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.525+08:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
2022-02-09 13:30:31.526  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.525+08:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
2022-02-09 13:30:31.531  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.531+08:00"},"s":"W",  "c":"CONTROL",  "id":22178,   "ctx":"initandlisten","msg":"/sys/kernel/mm/transparent_hugepage/enabled is 'always'. We suggest setting it to 'never'","tags":["startupWarnings"]}
2022-02-09 13:30:31.532  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.531+08:00"},"s":"W",  "c":"CONTROL",  "id":22184,   "ctx":"initandlisten","msg":"Soft rlimits for open file descriptors too low","attr":{"currentValue":4096,"recommendedMinimum":64000},"tags":["startupWarnings"]}
2022-02-09 13:30:31.533  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.532+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"7115f980-46f3-4c82-bd57-709b3172e086"}},"options":{"uuid":{"$uuid":"7115f980-46f3-4c82-bd57-709b3172e086"}}}}
2022-02-09 13:30:31.558  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.558+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":null}}
2022-02-09 13:30:31.559  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.558+08:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"5.0"}}
2022-02-09 13:30:31.559  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.558+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 13:30:31.560  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.558+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 13:30:31.560  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.558+08:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
2022-02-09 13:30:31.561  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.558+08:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
2022-02-09 13:30:31.561  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.559+08:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/embedmongo-db-892a2de9-4c3d-4c74-839a-f32ae24d207d/diagnostic.data"}}
2022-02-09 13:30:31.562  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.559+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ffc90c02-c956-4992-a29d-9647ed9f7646"}},"options":{"capped":true,"size":10485760}}}
2022-02-09 13:30:31.584  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.583+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":null}}
2022-02-09 13:30:31.584  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.584+08:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
2022-02-09 13:30:31.585  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.585+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"/tmp/mongodb-44863.sock"}}
2022-02-09 13:30:31.586  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.585+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
2022-02-09 13:30:31.586  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.585+08:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":44863,"ssl":"off"}}
2022-02-09 13:30:31.586  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.585+08:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
2022-02-09 13:30:31.587  INFO 526 --- [Test worker] d.f.embed.mongo.MongodExecutable         : start MongodConfig{version=Version{5.0.5}, timeout=de.flapdoodle.embed.mongo.config.Timeout@3a8640f7, net=de.flapdoodle.embed.mongo.config.Net@ca10069, cmdOptions=MongoCmdOptions{syncDelay=0, useDefaultSyncDelay=false, isVerbose=false, useNoPrealloc=true, useSmallFiles=true, useNoJournal=true, enableTextSearch=false, auth=false, master=false}, password=, userName=, replication=de.flapdoodle.embed.mongo.config.Storage@45e69324, isConfigServer=false, isShardServer=false, processListener=de.flapdoodle.embed.mongo.config.processlistener.NoopProcessListener@3c89b864, params={}, args={}, pidFile=mongod.pid, supportConfig=de.flapdoodle.embed.mongo.config.SupportConfig@3400d6fa}
2022-02-09 13:30:31.587  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.585+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"09d55b58-1bf0-47f9-ba97-091065a3cc41"}},"options":{}}}
2022-02-09 13:30:31.620  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.619+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":null}}
2022-02-09 13:30:31.620  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:31.619+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":null}}
2022-02-09 13:30:32.659  INFO 526 --- [Test worker] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:44863], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}
2022-02-09 13:30:32.664  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:32.664+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:51776","uuid":"09c3974b-4be2-496c-96de-420279cf6582","connectionId":1,"connectionCount":1}}
2022-02-09 13:30:32.665  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:32.664+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:51774","uuid":"ab207cc2-1098-484e-a6bb-3995b10a6f5d","connectionId":2,"connectionCount":2}}
2022-02-09 13:30:32.667  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:32.666+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:51776","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 13:30:32.668  INFO 526 --- [cluster-ClusterId{value='620351786e0a8b4a58f3afea', description='null'}-localhost:44863] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:1}] to localhost:44863
2022-02-09 13:30:32.668  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:32.667+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:51774","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 13:30:32.669  INFO 526 --- [cluster-ClusterId{value='620351786e0a8b4a58f3afea', description='null'}-localhost:44863] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:44863, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=3481200}
2022-02-09 13:30:32.672  INFO 526 --- [cluster-rtt-ClusterId{value='620351786e0a8b4a58f3afea', description='null'}-localhost:44863] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:2}] to localhost:44863
2022-02-09 13:30:32.731  WARN 526 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 13:30:33.092  WARN 526 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 13:30:40.220  INFO 526 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 13:30:42.139  INFO 526 --- [Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 20 endpoint(s) beneath base path '/actuator'
2022-02-09 13:30:44.062  INFO 526 --- [Test worker] onConfiguration$FunctionBindingRegistrar : Functional binding is disabled due to the presense of @EnableBinding annotation in your configuration
2022-02-09 13:30:47.413  INFO 526 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 13:30:47.637  INFO 526 --- [Test worker] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-02-09 13:30:48.534  WARN 526 --- [Test worker] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-02-09 13:30:50.496  INFO 526 --- [Test worker] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'recommendation.input' has 1 subscriber(s).
2022-02-09 13:30:50.523  INFO 526 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 13:30:50.523  INFO 526 --- [Test worker] o.s.i.channel.PublishSubscribeChannel    : Channel 'recommendation.errorChannel' has 1 subscriber(s).
2022-02-09 13:30:50.524  INFO 526 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2022-02-09 13:30:51.296  INFO 526 --- [Test worker] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 38019
2022-02-09 13:30:52.299  INFO 526 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 13:30:53.302  INFO 526 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 13:30:53.385  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:53.385+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:51780","uuid":"902032ea-37e2-4690-98bf-5b81a12e3089","connectionId":3,"connectionCount":3}}
2022-02-09 13:30:53.386  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:53.386+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:51780","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 13:30:53.387  INFO 526 --- [nioEventLoopGroup-4-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:3}] to localhost:44863
2022-02-09 13:30:53.417  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:53.417+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"recommendation-db.recommendations","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"4e1d9fdc-09d9-47c3-b586-0a1e3d2e2a1f"}},"options":{}}}
2022-02-09 13:30:53.505  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:53.505+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"recommendation-db.recommendations","index":"_id_","commitTimestamp":null}}
2022-02-09 13:30:53.506  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:53.505+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"recommendation-db.recommendations","index":"prod-rec-id","commitTimestamp":null}}
2022-02-09 13:30:53.513  INFO 526 --- [Test worker] .r.RecommendationServiceApplicationTests : Started RecommendationServiceApplicationTests in 32.361 seconds (JVM running for 59.11)
2022-02-09 13:30:53.859  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T13:30:53.844...
2022-02-09 13:30:53.869  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Create recommendation with ID: 1/1
2022-02-09 13:30:53.887  INFO 526 --- [Test worker] reactor.Mono.UsingWhen.1                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 13:30:53.891  INFO 526 --- [Test worker] reactor.Mono.UsingWhen.1                 : request(unbounded)
2022-02-09 13:30:53.895  INFO 526 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.1                 : onNext(RecommendationEntity: 1/1)
2022-02-09 13:30:53.896  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Message processing done!
2022-02-09 13:30:53.896  INFO 526 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.1                 : onComplete()
2022-02-09 13:30:53.921  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T13:30:53.920...
2022-02-09 13:30:53.921  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Delete recommendations with ProductID: 1
2022-02-09 13:30:53.922 DEBUG 526 --- [Test worker] s.m.m.c.r.s.RecommendationServiceImpl    : deleteRecommendations: tries to delete recommendations for the product with productId: 1
2022-02-09 13:30:53.942  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Message processing done!
2022-02-09 13:30:53.945  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T13:30:53.945...
2022-02-09 13:30:53.945  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Delete recommendations with ProductID: 1
2022-02-09 13:30:53.945 DEBUG 526 --- [Test worker] s.m.m.c.r.s.RecommendationServiceImpl    : deleteRecommendations: tries to delete recommendations for the product with productId: 1
2022-02-09 13:30:53.948  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Message processing done!
2022-02-09 13:30:55.971  INFO 526 --- [reactor-http-epoll-4] reactor.Flux.UsingWhen.2                 : onSubscribe(FluxUsingWhen.UsingWhenSubscriber)
2022-02-09 13:30:55.971  INFO 526 --- [reactor-http-epoll-4] reactor.Flux.UsingWhen.2                 : request(unbounded)
2022-02-09 13:30:55.974  INFO 526 --- [nioEventLoopGroup-4-3] reactor.Flux.UsingWhen.2                 : onComplete()
2022-02-09 13:30:56.070  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T13:30:56.070...
2022-02-09 13:30:56.072  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Create recommendation with ID: 1/1
2022-02-09 13:30:56.073  INFO 526 --- [Test worker] reactor.Mono.UsingWhen.3                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 13:30:56.073  INFO 526 --- [Test worker] reactor.Mono.UsingWhen.3                 : request(unbounded)
2022-02-09 13:30:56.076  INFO 526 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.3                 : onNext(RecommendationEntity: 1/1)
2022-02-09 13:30:56.077  INFO 526 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.3                 : onComplete()
2022-02-09 13:30:56.077  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Message processing done!
2022-02-09 13:30:56.078  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T13:30:56.078...
2022-02-09 13:30:56.079  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Create recommendation with ID: 1/2
2022-02-09 13:30:56.079  INFO 526 --- [Test worker] reactor.Mono.UsingWhen.4                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 13:30:56.080  INFO 526 --- [Test worker] reactor.Mono.UsingWhen.4                 : request(unbounded)
2022-02-09 13:30:56.083  INFO 526 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.4                 : onNext(RecommendationEntity: 1/2)
2022-02-09 13:30:56.084  INFO 526 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.4                 : onComplete()
2022-02-09 13:30:56.084  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Message processing done!
2022-02-09 13:30:56.084  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T13:30:56.084...
2022-02-09 13:30:56.085  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Create recommendation with ID: 1/3
2022-02-09 13:30:56.085  INFO 526 --- [Test worker] reactor.Mono.UsingWhen.5                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 13:30:56.086  INFO 526 --- [Test worker] reactor.Mono.UsingWhen.5                 : request(unbounded)
2022-02-09 13:30:56.089  INFO 526 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.5                 : onNext(RecommendationEntity: 1/3)
2022-02-09 13:30:56.090  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Message processing done!
2022-02-09 13:30:56.090  INFO 526 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.5                 : onComplete()
2022-02-09 13:30:56.099  INFO 526 --- [reactor-http-epoll-4] reactor.Flux.UsingWhen.6                 : onSubscribe(FluxUsingWhen.UsingWhenSubscriber)
2022-02-09 13:30:56.100  INFO 526 --- [reactor-http-epoll-4] reactor.Flux.UsingWhen.6                 : request(unbounded)
2022-02-09 13:30:56.104  INFO 526 --- [nioEventLoopGroup-4-3] reactor.Flux.UsingWhen.6                 : onNext(RecommendationEntity: 1/1)
2022-02-09 13:30:56.105  INFO 526 --- [nioEventLoopGroup-4-3] reactor.Flux.UsingWhen.6                 : onNext(RecommendationEntity: 1/2)
2022-02-09 13:30:56.106  INFO 526 --- [nioEventLoopGroup-4-3] reactor.Flux.UsingWhen.6                 : onNext(RecommendationEntity: 1/3)
2022-02-09 13:30:56.107  INFO 526 --- [nioEventLoopGroup-4-3] reactor.Flux.UsingWhen.6                 : onComplete()
2022-02-09 13:30:56.177 DEBUG 526 --- [reactor-http-epoll-4] s.m.u.h.GlobalControllerExceptionHandler : Returning HTTP status: 422 UNPROCESSABLE_ENTITY for path: /recommendation, message: Invalid productId: -1
2022-02-09 13:30:56.217  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T13:30:56.216...
2022-02-09 13:30:56.217  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Create recommendation with ID: 1/1
2022-02-09 13:30:56.218  INFO 526 --- [Test worker] reactor.Mono.UsingWhen.7                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 13:30:56.219  INFO 526 --- [Test worker] reactor.Mono.UsingWhen.7                 : request(unbounded)
2022-02-09 13:30:56.222  INFO 526 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.7                 : onNext(RecommendationEntity: 1/1)
2022-02-09 13:30:56.223  INFO 526 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.7                 : onComplete()
2022-02-09 13:30:56.223  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Message processing done!
2022-02-09 13:30:56.227  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T13:30:56.227...
2022-02-09 13:30:56.227  INFO 526 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Create recommendation with ID: 1/1
2022-02-09 13:30:56.228  INFO 526 --- [Test worker] reactor.Mono.UsingWhen.8                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 13:30:56.228  INFO 526 --- [Test worker] reactor.Mono.UsingWhen.8                 : request(unbounded)
2022-02-09 13:30:56.420 ERROR 526 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.8                 : onError(org.springframework.dao.DuplicateKeyException: Write operation error on server localhost:44863. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: recommendation-db.recommendations index: prod-rec-id dup key: { productId: 1, recommendationId: 1 }', details={}}.; nested exception is com.mongodb.MongoWriteException: Write operation error on server localhost:44863. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: recommendation-db.recommendations index: prod-rec-id dup key: { productId: 1, recommendationId: 1 }', details={}}.)
2022-02-09 13:30:56.444 ERROR 526 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.8                 : 

org.springframework.dao.DuplicateKeyException: Write operation error on server localhost:44863. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: recommendation-db.recommendations index: prod-rec-id dup key: { productId: 1, recommendationId: 1 }', details={}}.; nested exception is com.mongodb.MongoWriteException: Write operation error on server localhost:44863. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: recommendation-db.recommendations index: prod-rec-id dup key: { productId: 1, recommendationId: 1 }', details={}}.
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:106) ~[spring-data-mongodb-3.3.1.jar:3.3.1]
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2839) ~[spring-data-mongodb-3.3.1.jar:3.3.1]
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$91(ReactiveMongoTemplate.java:2822) ~[spring-data-mongodb-3.3.1.jar:3.3.1]
	at reactor.core.publisher.Flux.lambda$onErrorMap$28(Flux.java:6911) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) [reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) [reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) [reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:194) ~[reactor-core-3.4.14.jar:3.4.14]
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$30(MongoOperationPublisher.java:545) ~[mongodb-driver-reactivestreams-4.4.1.jar:na]
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:124) ~[mongodb-driver-reactivestreams-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.CommandOperationHelper.lambda$exceptionTransformingCallback$23(CommandOperationHelper.java:627) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:95) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.RetryingAsyncCallbackSupplier$RetryingCallback.onResult(RetryingAsyncCallbackSupplier.java:109) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:95) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:95) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$executeBulkWriteBatchAsync$11(MixedBulkWriteOperation.java:424) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:84) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:61) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.LoopState.breakAndCompleteIf(LoopState.java:111) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$executeBulkWriteBatchAsync$10(MixedBulkWriteOperation.java:378) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:82) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:61) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$executeBulkWriteBatchAsync$9(MixedBulkWriteOperation.java:400) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor$2.onResult(DefaultServer.java:280) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.CommandProtocolImpl$1.onResult(CommandProtocolImpl.java:84) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection$1.onResult(DefaultConnectionPool.java:687) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.UsageTrackingInternalConnection$2.onResult(UsageTrackingInternalConnection.java:159) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:526) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:503) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:815) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:782) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:650) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:647) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:266) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.readAsync(InternalStreamConnection.java:647) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.access$600(InternalStreamConnection.java:86) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:772) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:757) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:650) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:647) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:347) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:105) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:421) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:418) ~[mongodb-driver-core-4.4.1.jar:na]
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_312]
Caused by: com.mongodb.MongoWriteException: Write operation error on server localhost:44863. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: recommendation-db.recommendations index: prod-rec-id dup key: { productId: 1, recommendationId: 1 }', details={}}.
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$createSingleWriteRequestMono$24(MongoOperationPublisher.java:490) ~[mongodb-driver-reactivestreams-4.4.1.jar:na]
	at reactor.core.publisher.Mono.lambda$onErrorMap$30(Mono.java:3719) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.lambda$onErrorResume$32(Mono.java:3809) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) [reactor-core-3.4.14.jar:3.4.14]
	... 67 common frames omitted

2022-02-09 13:30:56.553  INFO 526 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 13:30:56.555  INFO 526 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'recommendation.errorChannel' has 0 subscriber(s).
2022-02-09 13:30:56.556  INFO 526 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2022-02-09 13:30:56.607  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:56.607+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:46964","uuid":"675ee1e8-ef74-4c56-b027-485efa5ba4c0","connectionId":3,"connectionCount":2}}
2022-02-09 13:30:56.608  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:56.608+08:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":142}}
2022-02-09 13:30:56.609  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:56.608+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:46960","uuid":"ab8ca223-34a3-4111-8789-2236faea02f5","connectionId":2,"connectionCount":1}}
2022-02-09 13:30:56.609  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:56.608+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:46958","uuid":"43039d44-e346-47bc-9fab-63592a1dc323","connectionId":1,"connectionCount":0}}
2022-02-09 13:30:58.649  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.648+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:46976","uuid":"b94e7b7e-ed71-4ed0-9400-6ca118bfb683","connectionId":4,"connectionCount":1}}
2022-02-09 13:30:58.650  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.649+08:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn4","msg":"Terminating via shutdown command","attr":{"force":true,"timeoutSecs":0}}
2022-02-09 13:30:58.651  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.649+08:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"conn4","msg":"Attempting to enter quiesce mode"}
2022-02-09 13:30:58.654  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.649+08:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"conn4","msg":"Shutting down the MirrorMaestro"}
2022-02-09 13:30:58.655  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.649+08:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"conn4","msg":"Shutting down the WaitForMajorityService"}
2022-02-09 13:30:58.655  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.650+08:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"conn4","msg":"Shutting down the LogicalSessionCache"}
2022-02-09 13:30:58.656  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.650+08:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"conn4","msg":"Shutdown: going to close listening sockets"}
2022-02-09 13:30:58.657  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.650+08:00"},"s":"I",  "c":"NETWORK",  "id":23017,   "ctx":"listener","msg":"removing socket file","attr":{"path":"/tmp/mongodb-27017.sock"}}
2022-02-09 13:30:58.657  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.650+08:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"conn4","msg":"Shutting down the global connection pool"}
2022-02-09 13:30:58.657  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.650+08:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"conn4","msg":"Shutting down the FlowControlTicketholder"}
2022-02-09 13:30:58.658  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.650+08:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"conn4","msg":"Stopping further Flow Control ticket acquisitions."}
2022-02-09 13:30:58.658  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.650+08:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"conn4","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
2022-02-09 13:30:58.659  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"conn4","msg":"Shutting down the ReplicationCoordinator"}
2022-02-09 13:30:58.659  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"conn4","msg":"Shutting down the ShardingInitializationMongoD"}
2022-02-09 13:30:58.660  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"conn4","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
2022-02-09 13:30:58.660  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"conn4","msg":"Killing all operations for shutdown"}
2022-02-09 13:30:58.660  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"conn4","msg":"Interrupted all currently running operations","attr":{"opsKilled":2}}
2022-02-09 13:30:58.661  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"conn4","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
2022-02-09 13:30:58.661  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"conn4","msg":"Shutting down all open transactions"}
2022-02-09 13:30:58.662  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"conn4","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 13:30:58.662  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"conn4","msg":"Shutting down the IndexBuildsCoordinator"}
2022-02-09 13:30:58.663  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"REPL",     "id":4784916, "ctx":"conn4","msg":"Reacquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 13:30:58.663  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"REPL",     "id":4784917, "ctx":"conn4","msg":"Attempting to mark clean shutdown"}
2022-02-09 13:30:58.664  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"conn4","msg":"Shutting down the ReplicaSetMonitor"}
2022-02-09 13:30:58.664  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"conn4","msg":"Shutting down the MigrationUtilExecutor"}
2022-02-09 13:30:58.665  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
2022-02-09 13:30:58.665  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"conn4","msg":"Shutting down the ServiceEntryPoint"}
2022-02-09 13:30:58.666  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 13:30:58.666  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 13:30:58.666  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"conn4","msg":"Shutting down the HealthLog"}
2022-02-09 13:30:58.667  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"conn4","msg":"Shutting down the TTL monitor"}
2022-02-09 13:30:58.667  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"conn4","msg":"Shutting down TTL collection monitor thread"}
2022-02-09 13:30:58.667  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"conn4","msg":"Finished shutting down TTL collection monitor thread"}
2022-02-09 13:30:58.668  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"conn4","msg":"Acquiring the global lock for shutdown"}
2022-02-09 13:30:58.668  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"conn4","msg":"Shutting down the storage engine"}
2022-02-09 13:30:58.668  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.651+08:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"conn4","msg":"Shutting down journal flusher thread"}
2022-02-09 13:30:58.669  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.654+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"JournalFlusher","msg":"WiredTiger message","attr":{"message":"[1644384658:654430][560:0x7fbbc4a9f700], WT_SESSION.checkpoint: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 57, snapshot max: 57 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 13:30:58.724  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.724+08:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"conn4","msg":"Finished shutting down journal flusher thread"}
2022-02-09 13:30:58.730  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.724+08:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"conn4","msg":"Shutting down checkpoint thread"}
2022-02-09 13:30:58.731  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.724+08:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"conn4","msg":"Finished shutting down checkpoint thread"}
2022-02-09 13:30:58.731  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.724+08:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"conn4","msg":"Deregistering all the collections"}
2022-02-09 13:30:58.732  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.724+08:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"conn4","msg":"Timestamp monitor shutting down"}
2022-02-09 13:30:58.732  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.724+08:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"conn4","msg":"WiredTigerKVEngine shutting down"}
2022-02-09 13:30:58.732  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.724+08:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"conn4","msg":"Shutting down session sweeper thread"}
2022-02-09 13:30:58.733  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.724+08:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"conn4","msg":"Finished shutting down session sweeper thread"}
2022-02-09 13:30:58.733  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.724+08:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"conn4","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
2022-02-09 13:30:58.733  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.725+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"conn4","msg":"WiredTiger message","attr":{"message":"[1644384658:725112][560:0x7fbbbba8d700], close_ckpt: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 60, snapshot max: 60 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 13:30:58.742  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.742+08:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"conn4","msg":"WiredTiger closed","attr":{"durationMillis":18}}
2022-02-09 13:30:58.743  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.742+08:00"},"s":"I",  "c":"STORAGE",  "id":22279,   "ctx":"conn4","msg":"shutdown: removing fs lock..."}
2022-02-09 13:30:58.743  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.742+08:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"conn4","msg":"Dropping the scope cache for shutdown"}
2022-02-09 13:30:58.743  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.742+08:00"},"s":"I",  "c":"FTDC",     "id":4784926, "ctx":"conn4","msg":"Shutting down full-time data capture"}
2022-02-09 13:30:58.744  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.742+08:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"conn4","msg":"Shutting down full-time diagnostic data capture"}
2022-02-09 13:30:58.745  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.744+08:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"conn4","msg":"Now exiting"}
2022-02-09 13:30:58.745  INFO 526 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.745+08:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"conn4","msg":"Shutting down","attr":{"exitCode":0}}
2022-02-09 13:30:58.915  INFO 526 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 13:30:58.916  INFO 526 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'recommendation.errorChannel' has 0 subscriber(s).
2022-02-09 13:30:58.916  INFO 526 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2022-02-09 13:30:58.925  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.925+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:51780","uuid":"902032ea-37e2-4690-98bf-5b81a12e3089","connectionId":3,"connectionCount":2}}
2022-02-09 13:30:58.926  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.925+08:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":64}}
2022-02-09 13:30:58.926  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.925+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:51776","uuid":"09c3974b-4be2-496c-96de-420279cf6582","connectionId":1,"connectionCount":1}}
2022-02-09 13:30:58.927  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:30:58.925+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:51774","uuid":"ab207cc2-1098-484e-a6bb-3995b10a6f5d","connectionId":2,"connectionCount":0}}
2022-02-09 13:31:00.958  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.958+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:51786","uuid":"f379b9af-8ad4-4ce1-9f37-30c5c90dcb79","connectionId":4,"connectionCount":1}}
2022-02-09 13:31:00.960  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.958+08:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn4","msg":"Terminating via shutdown command","attr":{"force":true,"timeoutSecs":0}}
2022-02-09 13:31:00.960  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.959+08:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"conn4","msg":"Attempting to enter quiesce mode"}
2022-02-09 13:31:00.961  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.959+08:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"conn4","msg":"Shutting down the MirrorMaestro"}
2022-02-09 13:31:00.962  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.959+08:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"conn4","msg":"Shutting down the WaitForMajorityService"}
2022-02-09 13:31:00.963  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.959+08:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"conn4","msg":"Shutting down the LogicalSessionCache"}
2022-02-09 13:31:00.964  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.960+08:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"conn4","msg":"Shutdown: going to close listening sockets"}
2022-02-09 13:31:00.965  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"NETWORK",  "id":23017,   "ctx":"listener","msg":"removing socket file","attr":{"path":"/tmp/mongodb-44863.sock"}}
2022-02-09 13:31:00.966  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"conn4","msg":"Shutting down the global connection pool"}
2022-02-09 13:31:00.967  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"conn4","msg":"Shutting down the FlowControlTicketholder"}
2022-02-09 13:31:00.968  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"conn4","msg":"Stopping further Flow Control ticket acquisitions."}
2022-02-09 13:31:00.968  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"conn4","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
2022-02-09 13:31:00.969  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"conn4","msg":"Shutting down the ReplicationCoordinator"}
2022-02-09 13:31:00.970  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"conn4","msg":"Shutting down the ShardingInitializationMongoD"}
2022-02-09 13:31:00.971  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"conn4","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
2022-02-09 13:31:00.971  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"conn4","msg":"Killing all operations for shutdown"}
2022-02-09 13:31:00.972  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"conn4","msg":"Interrupted all currently running operations","attr":{"opsKilled":2}}
2022-02-09 13:31:00.972  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"conn4","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
2022-02-09 13:31:00.973  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"conn4","msg":"Shutting down all open transactions"}
2022-02-09 13:31:00.973  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"conn4","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 13:31:00.974  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"conn4","msg":"Shutting down the IndexBuildsCoordinator"}
2022-02-09 13:31:00.974  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"REPL",     "id":4784916, "ctx":"conn4","msg":"Reacquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 13:31:00.975  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"REPL",     "id":4784917, "ctx":"conn4","msg":"Attempting to mark clean shutdown"}
2022-02-09 13:31:00.975  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"conn4","msg":"Shutting down the ReplicaSetMonitor"}
2022-02-09 13:31:00.976  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.961+08:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"conn4","msg":"Shutting down the MigrationUtilExecutor"}
2022-02-09 13:31:00.976  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.962+08:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
2022-02-09 13:31:00.977  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.962+08:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"conn4","msg":"Shutting down the ServiceEntryPoint"}
2022-02-09 13:31:00.977  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.962+08:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 13:31:00.978  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.962+08:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 13:31:00.978  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.962+08:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"conn4","msg":"Shutting down the HealthLog"}
2022-02-09 13:31:00.979  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.963+08:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"conn4","msg":"Shutting down the TTL monitor"}
2022-02-09 13:31:00.979  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.963+08:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"conn4","msg":"Shutting down TTL collection monitor thread"}
2022-02-09 13:31:00.980  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.963+08:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"conn4","msg":"Finished shutting down TTL collection monitor thread"}
2022-02-09 13:31:00.980  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.963+08:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"conn4","msg":"Acquiring the global lock for shutdown"}
2022-02-09 13:31:00.980  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.963+08:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"conn4","msg":"Shutting down the storage engine"}
2022-02-09 13:31:00.981  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.963+08:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"conn4","msg":"Shutting down journal flusher thread"}
2022-02-09 13:31:00.981  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:00.966+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"JournalFlusher","msg":"WiredTiger message","attr":{"message":"[1644384660:966448][608:0x7f4a82336700], WT_SESSION.checkpoint: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 55, snapshot max: 55 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 13:31:01.043  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.043+08:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"conn4","msg":"Finished shutting down journal flusher thread"}
2022-02-09 13:31:01.044  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.043+08:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"conn4","msg":"Shutting down checkpoint thread"}
2022-02-09 13:31:01.044  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.043+08:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"conn4","msg":"Finished shutting down checkpoint thread"}
2022-02-09 13:31:01.044  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.043+08:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"conn4","msg":"Deregistering all the collections"}
2022-02-09 13:31:01.045  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.044+08:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"conn4","msg":"Timestamp monitor shutting down"}
2022-02-09 13:31:01.045  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.044+08:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"conn4","msg":"WiredTigerKVEngine shutting down"}
2022-02-09 13:31:01.046  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.044+08:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"conn4","msg":"Shutting down session sweeper thread"}
2022-02-09 13:31:01.046  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.044+08:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"conn4","msg":"Finished shutting down session sweeper thread"}
2022-02-09 13:31:01.046  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.044+08:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"conn4","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
2022-02-09 13:31:01.046  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.045+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"conn4","msg":"WiredTiger message","attr":{"message":"[1644384661:45198][608:0x7f4a79223700], close_ckpt: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 58, snapshot max: 58 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 13:31:01.067  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.067+08:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"conn4","msg":"WiredTiger closed","attr":{"durationMillis":23}}
2022-02-09 13:31:01.067  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.067+08:00"},"s":"I",  "c":"STORAGE",  "id":22279,   "ctx":"conn4","msg":"shutdown: removing fs lock..."}
2022-02-09 13:31:01.067  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.067+08:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"conn4","msg":"Dropping the scope cache for shutdown"}
2022-02-09 13:31:01.068  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.067+08:00"},"s":"I",  "c":"FTDC",     "id":4784926, "ctx":"conn4","msg":"Shutting down full-time data capture"}
2022-02-09 13:31:01.068  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.067+08:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"conn4","msg":"Shutting down full-time diagnostic data capture"}
2022-02-09 13:31:01.068  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.068+08:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"conn4","msg":"Now exiting"}
2022-02-09 13:31:01.068  INFO 526 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:31:01.068+08:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"conn4","msg":"Shutting down","attr":{"exitCode":0}}
2022-02-09 14:12:40.540  INFO 13395 --- [Test worker] s.m.m.c.recommendation.PersistenceTests  : Starting PersistenceTests using Java 1.8.0_312 on MTNB1007 with PID 13395 (started by andika in /mnt/d/development/Hands-On-Microservices-with-Spring-Boot-and-Spring-Cloud/Chapter09/microservices/recommendation-service)
2022-02-09 14:12:40.544 DEBUG 13395 --- [Test worker] s.m.m.c.recommendation.PersistenceTests  : Running with Spring Boot v2.6.3, Spring v5.3.15
2022-02-09 14:12:40.545  INFO 13395 --- [Test worker] s.m.m.c.recommendation.PersistenceTests  : No active profile set, falling back to default profiles: default
2022-02-09 14:12:40.617  WARN 13395 --- [Test worker] o.s.b.c.config.ConfigDataEnvironment     : Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 63:18]
2022-02-09 14:12:42.755  INFO 13395 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2022-02-09 14:12:43.888  INFO 13395 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1110 ms. Found 1 Reactive MongoDB repository interfaces.
2022-02-09 14:12:44.168  INFO 13395 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2022-02-09 14:12:44.281  INFO 13395 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2022-02-09 14:12:44.356  INFO 13395 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2022-02-09 14:12:45.316  INFO 13395 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:12:47.185  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.185+08:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"-","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
2022-02-09 14:12:47.194  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.186+08:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"-","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 14:12:47.195  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.186+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 14:12:47.195  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.186+08:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
2022-02-09 14:12:47.196  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.187+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 14:12:47.196  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.187+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"main","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","ns":"config.tenantMigrationDonors"}}
2022-02-09 14:12:47.197  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.187+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"main","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","ns":"config.tenantMigrationRecipients"}}
2022-02-09 14:12:47.197  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.187+08:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"main","msg":"Multi threading initialized"}
2022-02-09 14:12:47.198  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.187+08:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":13429,"port":27017,"dbPath":"/tmp/embedmongo-db-b7ea0c62-b9a9-449c-a997-fce79a941fd7","architecture":"64-bit","host":"MTNB1007"}}
2022-02-09 14:12:47.198  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.187+08:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"5.0.5","gitVersion":"d65fd89df3fc039b5c55933c0f71d647a54510ae","openSSLVersion":"OpenSSL 1.1.1f  31 Mar 2020","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu2004","distarch":"x86_64","target_arch":"x86_64"}}}}
2022-02-09 14:12:47.198  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.187+08:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"20.04"}}}
2022-02-09 14:12:47.199  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.187+08:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":27017},"security":{"authorization":"disabled"},"storage":{"dbPath":"/tmp/embedmongo-db-b7ea0c62-b9a9-449c-a997-fce79a941fd7","journal":{"enabled":false},"syncPeriodSecs":0}}}}
2022-02-09 14:12:47.200  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.188+08:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
2022-02-09 14:12:47.200  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.188+08:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=5789M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
2022-02-09 14:12:47.640  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.640+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644387167:640084][13429:0x7fadebb2ac80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global recovery timestamp: (0, 0)"}}
2022-02-09 14:12:47.641  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.640+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644387167:640159][13429:0x7fadebb2ac80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global oldest timestamp: (0, 0)"}}
2022-02-09 14:12:47.668  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.668+08:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":480}}
2022-02-09 14:12:47.669  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.668+08:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
2022-02-09 14:12:47.709  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.709+08:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
2022-02-09 14:12:47.710  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.709+08:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
2022-02-09 14:12:47.720  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.720+08:00"},"s":"W",  "c":"CONTROL",  "id":22178,   "ctx":"initandlisten","msg":"/sys/kernel/mm/transparent_hugepage/enabled is 'always'. We suggest setting it to 'never'","tags":["startupWarnings"]}
2022-02-09 14:12:47.721  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.720+08:00"},"s":"W",  "c":"CONTROL",  "id":22184,   "ctx":"initandlisten","msg":"Soft rlimits for open file descriptors too low","attr":{"currentValue":4096,"recommendedMinimum":64000},"tags":["startupWarnings"]}
2022-02-09 14:12:47.722  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.720+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"1cc1b6cf-2423-408b-b17f-aeb81fef27cf"}},"options":{"uuid":{"$uuid":"1cc1b6cf-2423-408b-b17f-aeb81fef27cf"}}}}
2022-02-09 14:12:47.751  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.751+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":null}}
2022-02-09 14:12:47.752  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.751+08:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"5.0"}}
2022-02-09 14:12:47.752  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.751+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 14:12:47.753  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.751+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 14:12:47.754  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.751+08:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
2022-02-09 14:12:47.754  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.751+08:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
2022-02-09 14:12:47.754  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.752+08:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/embedmongo-db-b7ea0c62-b9a9-449c-a997-fce79a941fd7/diagnostic.data"}}
2022-02-09 14:12:47.755  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.752+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"fea2567c-5487-4e3a-a39d-9b4ea8927a87"}},"options":{"capped":true,"size":10485760}}}
2022-02-09 14:12:47.777  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.777+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":null}}
2022-02-09 14:12:47.778  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.778+08:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
2022-02-09 14:12:47.779  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.779+08:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
2022-02-09 14:12:47.779  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.779+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6f2b988a-fa85-4a0e-b458-6dd1de5d64fc"}},"options":{}}}
2022-02-09 14:12:47.780  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.779+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"/tmp/mongodb-27017.sock"}}
2022-02-09 14:12:47.780  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.779+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
2022-02-09 14:12:47.781  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.779+08:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":27017,"ssl":"off"}}
2022-02-09 14:12:47.781  INFO 13395 --- [Test worker] d.f.embed.mongo.MongodExecutable         : start MongodConfig{version=Version{5.0.5}, timeout=de.flapdoodle.embed.mongo.config.Timeout@7412ed6b, net=de.flapdoodle.embed.mongo.config.Net@6e7c351d, cmdOptions=MongoCmdOptions{syncDelay=0, useDefaultSyncDelay=false, isVerbose=false, useNoPrealloc=true, useSmallFiles=true, useNoJournal=true, enableTextSearch=false, auth=false, master=false}, password=, userName=, replication=de.flapdoodle.embed.mongo.config.Storage@7b4a0aef, isConfigServer=false, isShardServer=false, processListener=de.flapdoodle.embed.mongo.config.processlistener.NoopProcessListener@45cec376, params={}, args={}, pidFile=mongod.pid, supportConfig=de.flapdoodle.embed.mongo.config.SupportConfig@26d41711}
2022-02-09 14:12:47.815  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.815+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":null}}
2022-02-09 14:12:47.816  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:47.815+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":null}}
2022-02-09 14:12:49.300  INFO 13395 --- [Test worker] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}
2022-02-09 14:12:50.029  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:50.029+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:48608","uuid":"04921b74-238e-4d09-a7d0-6824cfb8390a","connectionId":1,"connectionCount":1}}
2022-02-09 14:12:50.030  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:50.029+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:48606","uuid":"138b9f6f-ad27-401a-ae28-665da1484613","connectionId":2,"connectionCount":2}}
2022-02-09 14:12:50.247  WARN 13395 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 14:12:50.324  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:50.324+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:48606","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 14:12:50.325  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:50.324+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:48608","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 14:12:50.414  INFO 13395 --- [cluster-ClusterId{value='62035b616cb0a82177b8ba0e', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:27017
2022-02-09 14:12:50.414  INFO 13395 --- [cluster-rtt-ClusterId{value='62035b616cb0a82177b8ba0e', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:27017
2022-02-09 14:12:50.414  INFO 13395 --- [cluster-ClusterId{value='62035b616cb0a82177b8ba0e', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=351946000}
2022-02-09 14:12:50.832  WARN 13395 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 14:12:55.540  INFO 13395 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 14:12:55.541  INFO 13395 --- [Test worker] o.s.i.channel.PublishSubscribeChannel    : Channel 'recommendation.errorChannel' has 1 subscriber(s).
2022-02-09 14:12:55.542  INFO 13395 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2022-02-09 14:12:56.150  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:56.150+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:48612","uuid":"b65e6601-5875-4937-b80e-aa65336758ac","connectionId":3,"connectionCount":3}}
2022-02-09 14:12:56.165  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:56.165+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:48612","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 14:12:56.180  INFO 13395 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:3}] to localhost:27017
2022-02-09 14:12:56.256  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:56.255+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"recommendation-db.recommendations","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"03cb7001-eb6a-4e7b-91e8-5a6885965fd9"}},"options":{}}}
2022-02-09 14:12:56.350  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:56.349+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"recommendation-db.recommendations","index":"_id_","commitTimestamp":null}}
2022-02-09 14:12:56.350  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:56.349+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"recommendation-db.recommendations","index":"prod-rec-id","commitTimestamp":null}}
2022-02-09 14:12:56.385  INFO 13395 --- [Test worker] s.m.m.c.recommendation.PersistenceTests  : Started PersistenceTests in 20.061 seconds (JVM running for 24.034)
2022-02-09 14:12:59.401  INFO 13395 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [se.magnus.microservices.core.recommendation.RecommendationServiceApplicationTests], using SpringBootContextLoader
2022-02-09 14:12:59.414  INFO 13395 --- [Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [se.magnus.microservices.core.recommendation.RecommendationServiceApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-02-09 14:12:59.415  INFO 13395 --- [Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [se.magnus.microservices.core.recommendation.RecommendationServiceApplicationTests]: RecommendationServiceApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-02-09 14:12:59.426  INFO 13395 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration se.magnus.microservices.core.recommendation.RecommendationServiceApplication for test class se.magnus.microservices.core.recommendation.RecommendationServiceApplicationTests
2022-02-09 14:12:59.448  INFO 13395 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2022-02-09 14:12:59.453  INFO 13395 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3e52ed5d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6a96d639, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@28e94c2, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3d40498a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@14d1737a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@482a58c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3e74fd84, org.springframework.test.context.event.EventPublishingTestExecutionListener@147efd9, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1e120628, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4e4894d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1de5cc88, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@23e2c1ca, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2d4fb0d8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@dc1fadd]
2022-02-09 14:13:00.808  INFO 13395 --- [Test worker] .r.RecommendationServiceApplicationTests : Starting RecommendationServiceApplicationTests using Java 1.8.0_312 on MTNB1007 with PID 13395 (started by andika in /mnt/d/development/Hands-On-Microservices-with-Spring-Boot-and-Spring-Cloud/Chapter09/microservices/recommendation-service)
2022-02-09 14:13:00.809 DEBUG 13395 --- [Test worker] .r.RecommendationServiceApplicationTests : Running with Spring Boot v2.6.3, Spring v5.3.15
2022-02-09 14:13:00.809  INFO 13395 --- [Test worker] .r.RecommendationServiceApplicationTests : No active profile set, falling back to default profiles: default
2022-02-09 14:13:00.823  WARN 13395 --- [Test worker] o.s.b.c.config.ConfigDataEnvironment     : Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 63:18]
2022-02-09 14:13:05.403  INFO 13395 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2022-02-09 14:13:05.667  INFO 13395 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 262 ms. Found 1 Reactive MongoDB repository interfaces.
2022-02-09 14:13:06.618  INFO 13395 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2022-02-09 14:13:06.618  INFO 13395 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2022-02-09 14:13:06.637  INFO 13395 --- [Test worker] o.s.cloud.context.scope.GenericScope     : BeanFactory id=14bf1391-37fe-339f-842c-2222517986b7
2022-02-09 14:13:07.564  INFO 13395 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:13:07.743  INFO 13395 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration' of type [org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:13:07.818  INFO 13395 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'bindersHealthContributor' of type [org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration$BindersHealthContributor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:13:07.859  INFO 13395 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'bindersHealthIndicatorListener' of type [org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration$BindersHealthIndicatorListener] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:13:08.034  INFO 13395 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:13:08.180  INFO 13395 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:13:08.194  INFO 13395 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:13:08.229  INFO 13395 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:13:09.734  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:09.734+08:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"-","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
2022-02-09 14:13:09.737  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:09.734+08:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"-","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 14:13:09.738  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:09.734+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 14:13:09.739  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:09.734+08:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
2022-02-09 14:13:09.739  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:09.735+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 14:13:09.740  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:09.736+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"main","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","ns":"config.tenantMigrationDonors"}}
2022-02-09 14:13:09.741  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:09.736+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"main","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","ns":"config.tenantMigrationRecipients"}}
2022-02-09 14:13:09.741  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:09.736+08:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"main","msg":"Multi threading initialized"}
2022-02-09 14:13:09.742  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:09.736+08:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":13477,"port":40537,"dbPath":"/tmp/embedmongo-db-36e8c905-f790-4485-a3e1-0529df1f3fad","architecture":"64-bit","host":"MTNB1007"}}
2022-02-09 14:13:09.742  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:09.736+08:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"5.0.5","gitVersion":"d65fd89df3fc039b5c55933c0f71d647a54510ae","openSSLVersion":"OpenSSL 1.1.1f  31 Mar 2020","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu2004","distarch":"x86_64","target_arch":"x86_64"}}}}
2022-02-09 14:13:09.743  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:09.736+08:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"20.04"}}}
2022-02-09 14:13:09.743  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:09.736+08:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":40537},"security":{"authorization":"disabled"},"storage":{"dbPath":"/tmp/embedmongo-db-36e8c905-f790-4485-a3e1-0529df1f3fad","journal":{"enabled":false},"syncPeriodSecs":0}}}}
2022-02-09 14:13:09.744  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:09.738+08:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
2022-02-09 14:13:09.744  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:09.738+08:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=5789M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
2022-02-09 14:13:10.225  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.225+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644387190:225333][13477:0x7f50b21aec80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global recovery timestamp: (0, 0)"}}
2022-02-09 14:13:10.226  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.225+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644387190:225410][13477:0x7f50b21aec80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global oldest timestamp: (0, 0)"}}
2022-02-09 14:13:10.245  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.245+08:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":507}}
2022-02-09 14:13:10.246  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.245+08:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
2022-02-09 14:13:10.271  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.271+08:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
2022-02-09 14:13:10.271  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.271+08:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
2022-02-09 14:13:10.277  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.277+08:00"},"s":"W",  "c":"CONTROL",  "id":22178,   "ctx":"initandlisten","msg":"/sys/kernel/mm/transparent_hugepage/enabled is 'always'. We suggest setting it to 'never'","tags":["startupWarnings"]}
2022-02-09 14:13:10.277  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.277+08:00"},"s":"W",  "c":"CONTROL",  "id":22184,   "ctx":"initandlisten","msg":"Soft rlimits for open file descriptors too low","attr":{"currentValue":4096,"recommendedMinimum":64000},"tags":["startupWarnings"]}
2022-02-09 14:13:10.279  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.277+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"61538437-dcb2-4f68-99f2-3865d476f7c1"}},"options":{"uuid":{"$uuid":"61538437-dcb2-4f68-99f2-3865d476f7c1"}}}}
2022-02-09 14:13:10.297  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.297+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":null}}
2022-02-09 14:13:10.300  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.297+08:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"5.0"}}
2022-02-09 14:13:10.301  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.297+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 14:13:10.301  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.297+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 14:13:10.302  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.297+08:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
2022-02-09 14:13:10.302  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.297+08:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
2022-02-09 14:13:10.302  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.298+08:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/embedmongo-db-36e8c905-f790-4485-a3e1-0529df1f3fad/diagnostic.data"}}
2022-02-09 14:13:10.303  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.298+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"64ffde11-28b9-4855-9555-437fbd3e467e"}},"options":{"capped":true,"size":10485760}}}
2022-02-09 14:13:10.321  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.320+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":null}}
2022-02-09 14:13:10.321  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.321+08:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
2022-02-09 14:13:10.322  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.322+08:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
2022-02-09 14:13:10.323  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.322+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"2e436680-bb53-4628-bf09-6c806b0ba1bd"}},"options":{}}}
2022-02-09 14:13:10.324  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.322+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"/tmp/mongodb-40537.sock"}}
2022-02-09 14:13:10.325  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.322+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
2022-02-09 14:13:10.328  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.322+08:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":40537,"ssl":"off"}}
2022-02-09 14:13:10.329  INFO 13395 --- [Test worker] d.f.embed.mongo.MongodExecutable         : start MongodConfig{version=Version{5.0.5}, timeout=de.flapdoodle.embed.mongo.config.Timeout@2cacb445, net=de.flapdoodle.embed.mongo.config.Net@1e7cfd49, cmdOptions=MongoCmdOptions{syncDelay=0, useDefaultSyncDelay=false, isVerbose=false, useNoPrealloc=true, useSmallFiles=true, useNoJournal=true, enableTextSearch=false, auth=false, master=false}, password=, userName=, replication=de.flapdoodle.embed.mongo.config.Storage@3a8640f7, isConfigServer=false, isShardServer=false, processListener=de.flapdoodle.embed.mongo.config.processlistener.NoopProcessListener@ca10069, params={}, args={}, pidFile=mongod.pid, supportConfig=de.flapdoodle.embed.mongo.config.SupportConfig@45e69324}
2022-02-09 14:13:10.355  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.355+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":null}}
2022-02-09 14:13:10.355  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:10.355+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":null}}
2022-02-09 14:13:11.415  INFO 13395 --- [Test worker] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:40537], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}
2022-02-09 14:13:11.419  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:11.419+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:57710","uuid":"1ef62849-7b74-481d-a116-222d168afe9c","connectionId":1,"connectionCount":1}}
2022-02-09 14:13:11.421  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:11.420+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:57712","uuid":"ce5e2814-4722-4370-947a-b7833cbe5387","connectionId":2,"connectionCount":2}}
2022-02-09 14:13:11.421  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:11.421+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:57710","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 14:13:11.422  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:11.422+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:57712","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 14:13:11.427  INFO 13395 --- [cluster-rtt-ClusterId{value='62035b776cb0a82177b8ba15', description='null'}-localhost:40537] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:1}] to localhost:40537
2022-02-09 14:13:11.427  INFO 13395 --- [cluster-ClusterId{value='62035b776cb0a82177b8ba15', description='null'}-localhost:40537] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:2}] to localhost:40537
2022-02-09 14:13:11.431  INFO 13395 --- [cluster-ClusterId{value='62035b776cb0a82177b8ba15', description='null'}-localhost:40537] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:40537, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=6414700}
2022-02-09 14:13:11.478  WARN 13395 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 14:13:11.832  WARN 13395 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 14:13:19.149  INFO 13395 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 14:13:21.381  INFO 13395 --- [Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 20 endpoint(s) beneath base path '/actuator'
2022-02-09 14:13:23.227  INFO 13395 --- [Test worker] onConfiguration$FunctionBindingRegistrar : Functional binding is disabled due to the presense of @EnableBinding annotation in your configuration
2022-02-09 14:13:26.784  INFO 13395 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 14:13:26.968  INFO 13395 --- [Test worker] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-02-09 14:13:27.833  WARN 13395 --- [Test worker] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-02-09 14:13:29.695  INFO 13395 --- [Test worker] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'recommendation.input' has 1 subscriber(s).
2022-02-09 14:13:29.721  INFO 13395 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 14:13:29.722  INFO 13395 --- [Test worker] o.s.i.channel.PublishSubscribeChannel    : Channel 'recommendation.errorChannel' has 1 subscriber(s).
2022-02-09 14:13:29.722  INFO 13395 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2022-02-09 14:13:30.582  INFO 13395 --- [Test worker] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 35421
2022-02-09 14:13:31.584  INFO 13395 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 14:13:32.587  INFO 13395 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 14:13:32.681  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:32.681+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:57714","uuid":"3b40c429-22e4-4bb8-87ef-d6fe8e72bf6d","connectionId":3,"connectionCount":3}}
2022-02-09 14:13:32.682  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:32.682+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:57714","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 14:13:32.683  INFO 13395 --- [nioEventLoopGroup-4-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:3}] to localhost:40537
2022-02-09 14:13:32.712  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:32.711+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"recommendation-db.recommendations","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ed233236-4ee3-4a60-9a2a-d2507734b4d1"}},"options":{}}}
2022-02-09 14:13:32.837  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:32.837+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"recommendation-db.recommendations","index":"_id_","commitTimestamp":null}}
2022-02-09 14:13:32.839  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:32.837+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"recommendation-db.recommendations","index":"prod-rec-id","commitTimestamp":null}}
2022-02-09 14:13:32.840  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:32.837+08:00"},"s":"I",  "c":"COMMAND",  "id":51803,   "ctx":"conn3","msg":"Slow query","attr":{"type":"command","ns":"recommendation-db.recommendations","command":{"createIndexes":"recommendations","indexes":[{"key":{"productId":1,"recommendationId":1},"name":"prod-rec-id","unique":true}],"$db":"recommendation-db","lsid":{"id":{"$uuid":"d9d8a671-7c46-4b79-8d55-4492cbe9c37a"}}},"numYields":0,"reslen":114,"locks":{"ParallelBatchWriterMode":{"acquireCount":{"r":4}},"ReplicationStateTransition":{"acquireCount":{"w":4}},"Global":{"acquireCount":{"r":3,"w":1}},"Database":{"acquireCount":{"r":3,"w":1}},"Collection":{"acquireCount":{"r":3,"w":1}},"Mutex":{"acquireCount":{"r":5}}},"storage":{},"remote":"127.0.0.1:57714","protocol":"op_msg","durationMillis":126}}
2022-02-09 14:13:32.853  INFO 13395 --- [Test worker] .r.RecommendationServiceApplicationTests : Started RecommendationServiceApplicationTests in 33.386 seconds (JVM running for 60.503)
2022-02-09 14:13:33.226  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T14:13:33.213...
2022-02-09 14:13:33.236  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Create recommendation with ID: 1/1
2022-02-09 14:13:33.256  INFO 13395 --- [Test worker] reactor.Mono.UsingWhen.1                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 14:13:33.260  INFO 13395 --- [Test worker] reactor.Mono.UsingWhen.1                 : request(unbounded)
2022-02-09 14:13:33.264  INFO 13395 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.1                 : onNext(RecommendationEntity: 1/1)
2022-02-09 14:13:33.265  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Message processing done!
2022-02-09 14:13:33.265  INFO 13395 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.1                 : onComplete()
2022-02-09 14:13:33.289  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T14:13:33.289...
2022-02-09 14:13:33.290  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Delete recommendations with ProductID: 1
2022-02-09 14:13:33.290 DEBUG 13395 --- [Test worker] s.m.m.c.r.s.RecommendationServiceImpl    : deleteRecommendations: tries to delete recommendations for the product with productId: 1
2022-02-09 14:13:33.309  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Message processing done!
2022-02-09 14:13:33.313  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T14:13:33.313...
2022-02-09 14:13:33.313  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Delete recommendations with ProductID: 1
2022-02-09 14:13:33.314 DEBUG 13395 --- [Test worker] s.m.m.c.r.s.RecommendationServiceImpl    : deleteRecommendations: tries to delete recommendations for the product with productId: 1
2022-02-09 14:13:33.317  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Message processing done!
2022-02-09 14:13:35.614  INFO 13395 --- [reactor-http-epoll-4] reactor.Flux.UsingWhen.2                 : onSubscribe(FluxUsingWhen.UsingWhenSubscriber)
2022-02-09 14:13:35.615  INFO 13395 --- [reactor-http-epoll-4] reactor.Flux.UsingWhen.2                 : request(unbounded)
2022-02-09 14:13:35.618  INFO 13395 --- [nioEventLoopGroup-4-3] reactor.Flux.UsingWhen.2                 : onComplete()
2022-02-09 14:13:35.740  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T14:13:35.740...
2022-02-09 14:13:35.741  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Create recommendation with ID: 1/1
2022-02-09 14:13:35.741  INFO 13395 --- [Test worker] reactor.Mono.UsingWhen.3                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 14:13:35.742  INFO 13395 --- [Test worker] reactor.Mono.UsingWhen.3                 : request(unbounded)
2022-02-09 14:13:35.746  INFO 13395 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.3                 : onNext(RecommendationEntity: 1/1)
2022-02-09 14:13:35.747  INFO 13395 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.3                 : onComplete()
2022-02-09 14:13:35.747  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Message processing done!
2022-02-09 14:13:35.748  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T14:13:35.748...
2022-02-09 14:13:35.749  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Create recommendation with ID: 1/2
2022-02-09 14:13:35.749  INFO 13395 --- [Test worker] reactor.Mono.UsingWhen.4                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 14:13:35.750  INFO 13395 --- [Test worker] reactor.Mono.UsingWhen.4                 : request(unbounded)
2022-02-09 14:13:35.754  INFO 13395 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.4                 : onNext(RecommendationEntity: 1/2)
2022-02-09 14:13:35.755  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Message processing done!
2022-02-09 14:13:35.755  INFO 13395 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.4                 : onComplete()
2022-02-09 14:13:35.756  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T14:13:35.756...
2022-02-09 14:13:35.756  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Create recommendation with ID: 1/3
2022-02-09 14:13:35.757  INFO 13395 --- [Test worker] reactor.Mono.UsingWhen.5                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 14:13:35.757  INFO 13395 --- [Test worker] reactor.Mono.UsingWhen.5                 : request(unbounded)
2022-02-09 14:13:35.761  INFO 13395 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.5                 : onNext(RecommendationEntity: 1/3)
2022-02-09 14:13:35.763  INFO 13395 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.5                 : onComplete()
2022-02-09 14:13:35.763  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Message processing done!
2022-02-09 14:13:35.774  INFO 13395 --- [reactor-http-epoll-4] reactor.Flux.UsingWhen.6                 : onSubscribe(FluxUsingWhen.UsingWhenSubscriber)
2022-02-09 14:13:35.774  INFO 13395 --- [reactor-http-epoll-4] reactor.Flux.UsingWhen.6                 : request(unbounded)
2022-02-09 14:13:35.779  INFO 13395 --- [nioEventLoopGroup-4-3] reactor.Flux.UsingWhen.6                 : onNext(RecommendationEntity: 1/1)
2022-02-09 14:13:35.781  INFO 13395 --- [nioEventLoopGroup-4-3] reactor.Flux.UsingWhen.6                 : onNext(RecommendationEntity: 1/2)
2022-02-09 14:13:35.782  INFO 13395 --- [nioEventLoopGroup-4-3] reactor.Flux.UsingWhen.6                 : onNext(RecommendationEntity: 1/3)
2022-02-09 14:13:35.783  INFO 13395 --- [nioEventLoopGroup-4-3] reactor.Flux.UsingWhen.6                 : onComplete()
2022-02-09 14:13:35.866 DEBUG 13395 --- [reactor-http-epoll-4] s.m.u.h.GlobalControllerExceptionHandler : Returning HTTP status: 422 UNPROCESSABLE_ENTITY for path: /recommendation, message: Invalid productId: -1
2022-02-09 14:13:35.903  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T14:13:35.903...
2022-02-09 14:13:35.903  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Create recommendation with ID: 1/1
2022-02-09 14:13:35.904  INFO 13395 --- [Test worker] reactor.Mono.UsingWhen.7                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 14:13:35.904  INFO 13395 --- [Test worker] reactor.Mono.UsingWhen.7                 : request(unbounded)
2022-02-09 14:13:35.907  INFO 13395 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.7                 : onNext(RecommendationEntity: 1/1)
2022-02-09 14:13:35.908  INFO 13395 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.7                 : onComplete()
2022-02-09 14:13:35.908  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Message processing done!
2022-02-09 14:13:35.912  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Process message created at 2022-02-09T14:13:35.912...
2022-02-09 14:13:35.913  INFO 13395 --- [Test worker] s.m.m.c.r.services.MessageProcessor      : Create recommendation with ID: 1/1
2022-02-09 14:13:35.914  INFO 13395 --- [Test worker] reactor.Mono.UsingWhen.8                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 14:13:35.914  INFO 13395 --- [Test worker] reactor.Mono.UsingWhen.8                 : request(unbounded)
2022-02-09 14:13:36.103 ERROR 13395 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.8                 : onError(org.springframework.dao.DuplicateKeyException: Write operation error on server localhost:40537. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: recommendation-db.recommendations index: prod-rec-id dup key: { productId: 1, recommendationId: 1 }', details={}}.; nested exception is com.mongodb.MongoWriteException: Write operation error on server localhost:40537. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: recommendation-db.recommendations index: prod-rec-id dup key: { productId: 1, recommendationId: 1 }', details={}}.)
2022-02-09 14:13:36.128 ERROR 13395 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.8                 : 

org.springframework.dao.DuplicateKeyException: Write operation error on server localhost:40537. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: recommendation-db.recommendations index: prod-rec-id dup key: { productId: 1, recommendationId: 1 }', details={}}.; nested exception is com.mongodb.MongoWriteException: Write operation error on server localhost:40537. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: recommendation-db.recommendations index: prod-rec-id dup key: { productId: 1, recommendationId: 1 }', details={}}.
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:106) ~[spring-data-mongodb-3.3.1.jar:3.3.1]
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2839) ~[spring-data-mongodb-3.3.1.jar:3.3.1]
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$91(ReactiveMongoTemplate.java:2822) ~[spring-data-mongodb-3.3.1.jar:3.3.1]
	at reactor.core.publisher.Flux.lambda$onErrorMap$28(Flux.java:6911) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) [reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) [reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) [reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:194) ~[reactor-core-3.4.14.jar:3.4.14]
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$30(MongoOperationPublisher.java:545) ~[mongodb-driver-reactivestreams-4.4.1.jar:na]
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:124) ~[mongodb-driver-reactivestreams-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.CommandOperationHelper.lambda$exceptionTransformingCallback$23(CommandOperationHelper.java:627) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:95) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.RetryingAsyncCallbackSupplier$RetryingCallback.onResult(RetryingAsyncCallbackSupplier.java:109) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:95) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:95) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$executeBulkWriteBatchAsync$11(MixedBulkWriteOperation.java:424) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:84) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:61) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.LoopState.breakAndCompleteIf(LoopState.java:111) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$executeBulkWriteBatchAsync$10(MixedBulkWriteOperation.java:378) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:82) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:61) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$executeBulkWriteBatchAsync$9(MixedBulkWriteOperation.java:400) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor$2.onResult(DefaultServer.java:280) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.CommandProtocolImpl$1.onResult(CommandProtocolImpl.java:84) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection$1.onResult(DefaultConnectionPool.java:687) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.UsageTrackingInternalConnection$2.onResult(UsageTrackingInternalConnection.java:159) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:526) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:503) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:815) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:782) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:650) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:647) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:266) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.readAsync(InternalStreamConnection.java:647) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.access$600(InternalStreamConnection.java:86) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:772) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:757) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:650) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:647) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:347) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:105) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:421) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:418) ~[mongodb-driver-core-4.4.1.jar:na]
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_312]
Caused by: com.mongodb.MongoWriteException: Write operation error on server localhost:40537. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: recommendation-db.recommendations index: prod-rec-id dup key: { productId: 1, recommendationId: 1 }', details={}}.
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$createSingleWriteRequestMono$24(MongoOperationPublisher.java:490) ~[mongodb-driver-reactivestreams-4.4.1.jar:na]
	at reactor.core.publisher.Mono.lambda$onErrorMap$30(Mono.java:3719) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.lambda$onErrorResume$32(Mono.java:3809) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) [reactor-core-3.4.14.jar:3.4.14]
	... 67 common frames omitted

2022-02-09 14:13:36.240  INFO 13395 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 14:13:36.241  INFO 13395 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'recommendation.errorChannel' has 0 subscriber(s).
2022-02-09 14:13:36.242  INFO 13395 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2022-02-09 14:13:36.281  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:36.281+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:48612","uuid":"b65e6601-5875-4937-b80e-aa65336758ac","connectionId":3,"connectionCount":2}}
2022-02-09 14:13:36.282  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:36.282+08:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn2","msg":"Interrupted operation as its client disconnected","attr":{"opId":142}}
2022-02-09 14:13:36.283  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:36.282+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:48608","uuid":"04921b74-238e-4d09-a7d0-6824cfb8390a","connectionId":1,"connectionCount":1}}
2022-02-09 14:13:36.283  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:36.282+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:48606","uuid":"138b9f6f-ad27-401a-ae28-665da1484613","connectionId":2,"connectionCount":0}}
2022-02-09 14:13:38.313  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.312+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:48622","uuid":"89bc6140-4b5e-4545-947e-50693a55e944","connectionId":4,"connectionCount":1}}
2022-02-09 14:13:38.314  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.313+08:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn4","msg":"Terminating via shutdown command","attr":{"force":true,"timeoutSecs":0}}
2022-02-09 14:13:38.315  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.313+08:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"conn4","msg":"Attempting to enter quiesce mode"}
2022-02-09 14:13:38.315  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.313+08:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"conn4","msg":"Shutting down the MirrorMaestro"}
2022-02-09 14:13:38.316  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.313+08:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"conn4","msg":"Shutting down the WaitForMajorityService"}
2022-02-09 14:13:38.317  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.314+08:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"conn4","msg":"Shutting down the LogicalSessionCache"}
2022-02-09 14:13:38.317  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.314+08:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"conn4","msg":"Shutdown: going to close listening sockets"}
2022-02-09 14:13:38.318  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.314+08:00"},"s":"I",  "c":"NETWORK",  "id":23017,   "ctx":"listener","msg":"removing socket file","attr":{"path":"/tmp/mongodb-27017.sock"}}
2022-02-09 14:13:38.318  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"conn4","msg":"Shutting down the global connection pool"}
2022-02-09 14:13:38.319  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"conn4","msg":"Shutting down the FlowControlTicketholder"}
2022-02-09 14:13:38.319  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"conn4","msg":"Stopping further Flow Control ticket acquisitions."}
2022-02-09 14:13:38.320  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"conn4","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
2022-02-09 14:13:38.320  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"conn4","msg":"Shutting down the ReplicationCoordinator"}
2022-02-09 14:13:38.320  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"conn4","msg":"Shutting down the ShardingInitializationMongoD"}
2022-02-09 14:13:38.321  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"conn4","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
2022-02-09 14:13:38.321  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"conn4","msg":"Killing all operations for shutdown"}
2022-02-09 14:13:38.322  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"conn4","msg":"Interrupted all currently running operations","attr":{"opsKilled":2}}
2022-02-09 14:13:38.322  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"conn4","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
2022-02-09 14:13:38.322  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"conn4","msg":"Shutting down all open transactions"}
2022-02-09 14:13:38.323  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"conn4","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 14:13:38.323  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"conn4","msg":"Shutting down the IndexBuildsCoordinator"}
2022-02-09 14:13:38.323  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"REPL",     "id":4784916, "ctx":"conn4","msg":"Reacquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 14:13:38.324  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"REPL",     "id":4784917, "ctx":"conn4","msg":"Attempting to mark clean shutdown"}
2022-02-09 14:13:38.324  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"conn4","msg":"Shutting down the ReplicaSetMonitor"}
2022-02-09 14:13:38.324  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"conn4","msg":"Shutting down the MigrationUtilExecutor"}
2022-02-09 14:13:38.325  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
2022-02-09 14:13:38.325  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"conn4","msg":"Shutting down the ServiceEntryPoint"}
2022-02-09 14:13:38.325  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 14:13:38.326  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 14:13:38.326  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"conn4","msg":"Shutting down the HealthLog"}
2022-02-09 14:13:38.326  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"conn4","msg":"Shutting down the TTL monitor"}
2022-02-09 14:13:38.326  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.315+08:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"conn4","msg":"Shutting down TTL collection monitor thread"}
2022-02-09 14:13:38.327  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.316+08:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"conn4","msg":"Finished shutting down TTL collection monitor thread"}
2022-02-09 14:13:38.327  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.316+08:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"conn4","msg":"Acquiring the global lock for shutdown"}
2022-02-09 14:13:38.328  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.316+08:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"conn4","msg":"Shutting down the storage engine"}
2022-02-09 14:13:38.328  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.316+08:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"conn4","msg":"Shutting down journal flusher thread"}
2022-02-09 14:13:38.329  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.317+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"JournalFlusher","msg":"WiredTiger message","attr":{"message":"[1644387218:317801][13429:0x7fade531c700], WT_SESSION.checkpoint: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 57, snapshot max: 57 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 14:13:38.367  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.367+08:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"conn4","msg":"Finished shutting down journal flusher thread"}
2022-02-09 14:13:38.367  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.367+08:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"conn4","msg":"Shutting down checkpoint thread"}
2022-02-09 14:13:38.368  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.367+08:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"conn4","msg":"Finished shutting down checkpoint thread"}
2022-02-09 14:13:38.368  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.367+08:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"conn4","msg":"Deregistering all the collections"}
2022-02-09 14:13:38.369  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.367+08:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"conn4","msg":"Timestamp monitor shutting down"}
2022-02-09 14:13:38.369  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.367+08:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"conn4","msg":"WiredTigerKVEngine shutting down"}
2022-02-09 14:13:38.369  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.367+08:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"conn4","msg":"Shutting down session sweeper thread"}
2022-02-09 14:13:38.369  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.367+08:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"conn4","msg":"Finished shutting down session sweeper thread"}
2022-02-09 14:13:38.369  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.367+08:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"conn4","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
2022-02-09 14:13:38.370  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.368+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"conn4","msg":"WiredTiger message","attr":{"message":"[1644387218:368204][13429:0x7faddc209700], close_ckpt: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 60, snapshot max: 60 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 14:13:38.382  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.382+08:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"conn4","msg":"WiredTiger closed","attr":{"durationMillis":15}}
2022-02-09 14:13:38.383  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.382+08:00"},"s":"I",  "c":"STORAGE",  "id":22279,   "ctx":"conn4","msg":"shutdown: removing fs lock..."}
2022-02-09 14:13:38.383  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.382+08:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"conn4","msg":"Dropping the scope cache for shutdown"}
2022-02-09 14:13:38.383  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.382+08:00"},"s":"I",  "c":"FTDC",     "id":4784926, "ctx":"conn4","msg":"Shutting down full-time data capture"}
2022-02-09 14:13:38.384  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.382+08:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"conn4","msg":"Shutting down full-time diagnostic data capture"}
2022-02-09 14:13:38.385  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.385+08:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"conn4","msg":"Now exiting"}
2022-02-09 14:13:38.385  INFO 13395 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.385+08:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"conn4","msg":"Shutting down","attr":{"exitCode":0}}
2022-02-09 14:13:38.557  INFO 13395 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 14:13:38.557  INFO 13395 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'recommendation.errorChannel' has 0 subscriber(s).
2022-02-09 14:13:38.558  INFO 13395 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2022-02-09 14:13:38.567  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.567+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:57714","uuid":"3b40c429-22e4-4bb8-87ef-d6fe8e72bf6d","connectionId":3,"connectionCount":2}}
2022-02-09 14:13:38.568  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.567+08:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn2","msg":"Interrupted operation as its client disconnected","attr":{"opId":64}}
2022-02-09 14:13:38.568  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.567+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:57710","uuid":"1ef62849-7b74-481d-a116-222d168afe9c","connectionId":1,"connectionCount":1}}
2022-02-09 14:13:38.568  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:38.568+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:57712","uuid":"ce5e2814-4722-4370-947a-b7833cbe5387","connectionId":2,"connectionCount":0}}
2022-02-09 14:13:40.591  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.590+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:57720","uuid":"079493f5-f05b-491d-b907-7589468cefff","connectionId":4,"connectionCount":1}}
2022-02-09 14:13:40.592  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.591+08:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn4","msg":"Terminating via shutdown command","attr":{"force":true,"timeoutSecs":0}}
2022-02-09 14:13:40.592  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.591+08:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"conn4","msg":"Attempting to enter quiesce mode"}
2022-02-09 14:13:40.593  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.591+08:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"conn4","msg":"Shutting down the MirrorMaestro"}
2022-02-09 14:13:40.594  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.591+08:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"conn4","msg":"Shutting down the WaitForMajorityService"}
2022-02-09 14:13:40.595  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.592+08:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"conn4","msg":"Shutting down the LogicalSessionCache"}
2022-02-09 14:13:40.595  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.592+08:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"conn4","msg":"Shutdown: going to close listening sockets"}
2022-02-09 14:13:40.596  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.592+08:00"},"s":"I",  "c":"NETWORK",  "id":23017,   "ctx":"listener","msg":"removing socket file","attr":{"path":"/tmp/mongodb-40537.sock"}}
2022-02-09 14:13:40.597  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"conn4","msg":"Shutting down the global connection pool"}
2022-02-09 14:13:40.598  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"conn4","msg":"Shutting down the FlowControlTicketholder"}
2022-02-09 14:13:40.598  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"conn4","msg":"Stopping further Flow Control ticket acquisitions."}
2022-02-09 14:13:40.599  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"conn4","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
2022-02-09 14:13:40.599  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"conn4","msg":"Shutting down the ReplicationCoordinator"}
2022-02-09 14:13:40.600  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"conn4","msg":"Shutting down the ShardingInitializationMongoD"}
2022-02-09 14:13:40.600  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"conn4","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
2022-02-09 14:13:40.601  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"conn4","msg":"Killing all operations for shutdown"}
2022-02-09 14:13:40.601  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"conn4","msg":"Interrupted all currently running operations","attr":{"opsKilled":2}}
2022-02-09 14:13:40.602  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"conn4","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
2022-02-09 14:13:40.602  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"conn4","msg":"Shutting down all open transactions"}
2022-02-09 14:13:40.603  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"conn4","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 14:13:40.603  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"conn4","msg":"Shutting down the IndexBuildsCoordinator"}
2022-02-09 14:13:40.604  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"REPL",     "id":4784916, "ctx":"conn4","msg":"Reacquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 14:13:40.604  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"REPL",     "id":4784917, "ctx":"conn4","msg":"Attempting to mark clean shutdown"}
2022-02-09 14:13:40.604  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"conn4","msg":"Shutting down the ReplicaSetMonitor"}
2022-02-09 14:13:40.605  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.593+08:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"conn4","msg":"Shutting down the MigrationUtilExecutor"}
2022-02-09 14:13:40.605  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.594+08:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
2022-02-09 14:13:40.606  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.594+08:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"conn4","msg":"Shutting down the ServiceEntryPoint"}
2022-02-09 14:13:40.606  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.594+08:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 14:13:40.606  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.594+08:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 14:13:40.607  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.594+08:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"conn4","msg":"Shutting down the HealthLog"}
2022-02-09 14:13:40.607  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.594+08:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"conn4","msg":"Shutting down the TTL monitor"}
2022-02-09 14:13:40.607  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.594+08:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"conn4","msg":"Shutting down TTL collection monitor thread"}
2022-02-09 14:13:40.608  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.594+08:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"conn4","msg":"Finished shutting down TTL collection monitor thread"}
2022-02-09 14:13:40.608  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.594+08:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"conn4","msg":"Acquiring the global lock for shutdown"}
2022-02-09 14:13:40.608  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.594+08:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"conn4","msg":"Shutting down the storage engine"}
2022-02-09 14:13:40.609  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.594+08:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"conn4","msg":"Shutting down journal flusher thread"}
2022-02-09 14:13:40.610  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.597+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"JournalFlusher","msg":"WiredTiger message","attr":{"message":"[1644387220:597075][13477:0x7f50ab9a0700], WT_SESSION.checkpoint: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 55, snapshot max: 55 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 14:13:40.635  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.635+08:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"conn4","msg":"Finished shutting down journal flusher thread"}
2022-02-09 14:13:40.636  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.635+08:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"conn4","msg":"Shutting down checkpoint thread"}
2022-02-09 14:13:40.637  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.635+08:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"conn4","msg":"Finished shutting down checkpoint thread"}
2022-02-09 14:13:40.637  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.635+08:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"conn4","msg":"Deregistering all the collections"}
2022-02-09 14:13:40.638  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.635+08:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"conn4","msg":"Timestamp monitor shutting down"}
2022-02-09 14:13:40.638  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.636+08:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"conn4","msg":"WiredTigerKVEngine shutting down"}
2022-02-09 14:13:40.638  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.636+08:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"conn4","msg":"Shutting down session sweeper thread"}
2022-02-09 14:13:40.639  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.636+08:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"conn4","msg":"Finished shutting down session sweeper thread"}
2022-02-09 14:13:40.639  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.636+08:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"conn4","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
2022-02-09 14:13:40.639  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.637+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"conn4","msg":"WiredTiger message","attr":{"message":"[1644387220:637324][13477:0x7f50a288d700], close_ckpt: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 58, snapshot max: 58 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 14:13:40.662  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.662+08:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"conn4","msg":"WiredTiger closed","attr":{"durationMillis":26}}
2022-02-09 14:13:40.662  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.662+08:00"},"s":"I",  "c":"STORAGE",  "id":22279,   "ctx":"conn4","msg":"shutdown: removing fs lock..."}
2022-02-09 14:13:40.663  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.662+08:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"conn4","msg":"Dropping the scope cache for shutdown"}
2022-02-09 14:13:40.663  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.662+08:00"},"s":"I",  "c":"FTDC",     "id":4784926, "ctx":"conn4","msg":"Shutting down full-time data capture"}
2022-02-09 14:13:40.663  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.662+08:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"conn4","msg":"Shutting down full-time diagnostic data capture"}
2022-02-09 14:13:40.664  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.664+08:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"conn4","msg":"Now exiting"}
2022-02-09 14:13:40.664  INFO 13395 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:13:40.664+08:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"conn4","msg":"Shutting down","attr":{"exitCode":0}}
