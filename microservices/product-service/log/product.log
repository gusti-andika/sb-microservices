2022-02-09 13:28:47.496  INFO 342 --- [Test worker] s.m.m.core.product.PersistenceTests      : Starting PersistenceTests using Java 1.8.0_312 on MTNB1007 with PID 342 (started by andika in /mnt/d/development/Hands-On-Microservices-with-Spring-Boot-and-Spring-Cloud/Chapter09/microservices/product-service)
2022-02-09 13:28:47.499 DEBUG 342 --- [Test worker] s.m.m.core.product.PersistenceTests      : Running with Spring Boot v2.6.3, Spring v5.3.15
2022-02-09 13:28:47.500  INFO 342 --- [Test worker] s.m.m.core.product.PersistenceTests      : No active profile set, falling back to default profiles: default
2022-02-09 13:28:47.571  WARN 342 --- [Test worker] o.s.b.c.config.ConfigDataEnvironment     : Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 64:18]
2022-02-09 13:28:49.491  INFO 342 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2022-02-09 13:28:50.597  INFO 342 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1085 ms. Found 1 Reactive MongoDB repository interfaces.
2022-02-09 13:28:50.843  INFO 342 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2022-02-09 13:28:50.944  INFO 342 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2022-02-09 13:28:51.018  INFO 342 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2022-02-09 13:28:51.895  INFO 342 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:28:53.562  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:53.562+08:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"-","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
2022-02-09 13:28:53.576  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:53.562+08:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"-","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 13:28:53.577  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:53.562+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 13:28:53.578  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:53.562+08:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
2022-02-09 13:28:53.578  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:53.564+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 13:28:53.579  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:53.564+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"main","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","ns":"config.tenantMigrationDonors"}}
2022-02-09 13:28:53.579  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:53.564+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"main","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","ns":"config.tenantMigrationRecipients"}}
2022-02-09 13:28:53.580  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:53.564+08:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"main","msg":"Multi threading initialized"}
2022-02-09 13:28:53.580  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:53.564+08:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":376,"port":27017,"dbPath":"/tmp/embedmongo-db-cc77121b-e4cb-4925-8935-1d1c8ea143ca","architecture":"64-bit","host":"MTNB1007"}}
2022-02-09 13:28:53.581  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:53.564+08:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"5.0.5","gitVersion":"d65fd89df3fc039b5c55933c0f71d647a54510ae","openSSLVersion":"OpenSSL 1.1.1f  31 Mar 2020","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu2004","distarch":"x86_64","target_arch":"x86_64"}}}}
2022-02-09 13:28:53.581  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:53.564+08:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"20.04"}}}
2022-02-09 13:28:53.582  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:53.564+08:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":27017},"security":{"authorization":"disabled"},"storage":{"dbPath":"/tmp/embedmongo-db-cc77121b-e4cb-4925-8935-1d1c8ea143ca","journal":{"enabled":false},"syncPeriodSecs":0}}}}
2022-02-09 13:28:53.582  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:53.567+08:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
2022-02-09 13:28:53.588  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:53.567+08:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=5789M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
2022-02-09 13:28:54.043  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.043+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644384534:43125][376:0x7fb60fa15c80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global recovery timestamp: (0, 0)"}}
2022-02-09 13:28:54.045  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.043+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644384534:43193][376:0x7fb60fa15c80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global oldest timestamp: (0, 0)"}}
2022-02-09 13:28:54.089  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.089+08:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":522}}
2022-02-09 13:28:54.090  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.089+08:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
2022-02-09 13:28:54.132  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.132+08:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
2022-02-09 13:28:54.133  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.132+08:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
2022-02-09 13:28:54.144  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.144+08:00"},"s":"W",  "c":"CONTROL",  "id":22178,   "ctx":"initandlisten","msg":"/sys/kernel/mm/transparent_hugepage/enabled is 'always'. We suggest setting it to 'never'","tags":["startupWarnings"]}
2022-02-09 13:28:54.145  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.144+08:00"},"s":"W",  "c":"CONTROL",  "id":22184,   "ctx":"initandlisten","msg":"Soft rlimits for open file descriptors too low","attr":{"currentValue":4096,"recommendedMinimum":64000},"tags":["startupWarnings"]}
2022-02-09 13:28:54.146  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.145+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"f76b3686-584d-459f-9ed1-b8432d5c55b4"}},"options":{"uuid":{"$uuid":"f76b3686-584d-459f-9ed1-b8432d5c55b4"}}}}
2022-02-09 13:28:54.172  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.172+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":null}}
2022-02-09 13:28:54.173  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.172+08:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"5.0"}}
2022-02-09 13:28:54.173  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.172+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 13:28:54.174  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.172+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 13:28:54.174  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.172+08:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
2022-02-09 13:28:54.175  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.172+08:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
2022-02-09 13:28:54.175  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.175+08:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/embedmongo-db-cc77121b-e4cb-4925-8935-1d1c8ea143ca/diagnostic.data"}}
2022-02-09 13:28:54.176  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.175+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e7767a5f-f407-4de1-8bf4-0a72705f52aa"}},"options":{"capped":true,"size":10485760}}}
2022-02-09 13:28:54.200  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.200+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":null}}
2022-02-09 13:28:54.202  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.202+08:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
2022-02-09 13:28:54.203  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.203+08:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
2022-02-09 13:28:54.204  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.203+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"076bee65-1089-46f4-9f3f-4c4b3badad40"}},"options":{}}}
2022-02-09 13:28:54.205  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.204+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"/tmp/mongodb-27017.sock"}}
2022-02-09 13:28:54.205  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.204+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
2022-02-09 13:28:54.205  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.204+08:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":27017,"ssl":"off"}}
2022-02-09 13:28:54.207  INFO 342 --- [Test worker] d.f.embed.mongo.MongodExecutable         : start MongodConfig{version=Version{5.0.5}, timeout=de.flapdoodle.embed.mongo.config.Timeout@6325f352, net=de.flapdoodle.embed.mongo.config.Net@15c4af7a, cmdOptions=MongoCmdOptions{syncDelay=0, useDefaultSyncDelay=false, isVerbose=false, useNoPrealloc=true, useSmallFiles=true, useNoJournal=true, enableTextSearch=false, auth=false, master=false}, password=, userName=, replication=de.flapdoodle.embed.mongo.config.Storage@6cbd0674, isConfigServer=false, isShardServer=false, processListener=de.flapdoodle.embed.mongo.config.processlistener.NoopProcessListener@55d58825, params={}, args={}, pidFile=mongod.pid, supportConfig=de.flapdoodle.embed.mongo.config.SupportConfig@19a64eae}
2022-02-09 13:28:54.246  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.245+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":null}}
2022-02-09 13:28:54.246  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:54.245+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":null}}
2022-02-09 13:28:55.672  INFO 342 --- [Test worker] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}
2022-02-09 13:28:56.394  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:56.394+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:46936","uuid":"f00e7660-3dad-4f8f-98c2-bbae472591ec","connectionId":1,"connectionCount":1}}
2022-02-09 13:28:56.395  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:56.394+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:46938","uuid":"f81b06eb-b28c-4f14-894b-0592a4c32054","connectionId":2,"connectionCount":2}}
2022-02-09 13:28:56.577  WARN 342 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 13:28:56.628  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:56.628+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:46938","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 13:28:56.630  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:28:56.628+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:46936","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 13:28:56.722  INFO 342 --- [cluster-rtt-ClusterId{value='62035117812e80208d486ac6', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:2}] to localhost:27017
2022-02-09 13:28:56.722  INFO 342 --- [cluster-ClusterId{value='62035117812e80208d486ac6', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:1}] to localhost:27017
2022-02-09 13:28:56.723  INFO 342 --- [cluster-ClusterId{value='62035117812e80208d486ac6', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=303893900}
2022-02-09 13:28:57.179  WARN 342 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 13:29:01.498  INFO 342 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 13:29:01.498  INFO 342 --- [Test worker] o.s.i.channel.PublishSubscribeChannel    : Channel 'product.errorChannel' has 1 subscriber(s).
2022-02-09 13:29:01.499  INFO 342 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2022-02-09 13:29:02.055  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:02.055+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:46942","uuid":"461db5e5-1def-41ca-b08b-841bd46d49d4","connectionId":3,"connectionCount":3}}
2022-02-09 13:29:02.070  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:02.070+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:46942","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 13:29:02.086  INFO 342 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:3}] to localhost:27017
2022-02-09 13:29:02.159  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:02.158+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"product-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"45b0fef9-5501-4ddd-a441-9774a42496eb"}},"options":{}}}
2022-02-09 13:29:02.239  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:02.239+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"product-db.products","index":"_id_","commitTimestamp":null}}
2022-02-09 13:29:02.240  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:02.239+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"product-db.products","index":"productId","commitTimestamp":null}}
2022-02-09 13:29:02.267  INFO 342 --- [Test worker] s.m.m.core.product.PersistenceTests      : Started PersistenceTests in 18.73 seconds (JVM running for 22.907)
2022-02-09 13:29:05.638  INFO 342 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [se.magnus.microservices.core.product.ProductServiceApplicationTests], using SpringBootContextLoader
2022-02-09 13:29:05.652  INFO 342 --- [Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [se.magnus.microservices.core.product.ProductServiceApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-02-09 13:29:05.653  INFO 342 --- [Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [se.magnus.microservices.core.product.ProductServiceApplicationTests]: ProductServiceApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-02-09 13:29:05.664  INFO 342 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration se.magnus.microservices.core.product.ProductServiceApplication for test class se.magnus.microservices.core.product.ProductServiceApplicationTests
2022-02-09 13:29:05.687  INFO 342 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2022-02-09 13:29:05.691  INFO 342 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@305b43ca, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4601047, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@25e8e59, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3a0896b3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@50a7c72b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@54c11750, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@221b77d7, org.springframework.test.context.event.EventPublishingTestExecutionListener@5cd8d029, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@32a8ca06, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6e8f2094, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1753475d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@d108406, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@799c8758, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6e00837f]
2022-02-09 13:29:06.967  INFO 342 --- [Test worker] s.m.m.c.p.ProductServiceApplicationTests : Starting ProductServiceApplicationTests using Java 1.8.0_312 on MTNB1007 with PID 342 (started by andika in /mnt/d/development/Hands-On-Microservices-with-Spring-Boot-and-Spring-Cloud/Chapter09/microservices/product-service)
2022-02-09 13:29:06.967 DEBUG 342 --- [Test worker] s.m.m.c.p.ProductServiceApplicationTests : Running with Spring Boot v2.6.3, Spring v5.3.15
2022-02-09 13:29:06.967  INFO 342 --- [Test worker] s.m.m.c.p.ProductServiceApplicationTests : No active profile set, falling back to default profiles: default
2022-02-09 13:29:06.981  WARN 342 --- [Test worker] o.s.b.c.config.ConfigDataEnvironment     : Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 64:18]
2022-02-09 13:29:11.501  INFO 342 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2022-02-09 13:29:11.738  INFO 342 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 236 ms. Found 1 Reactive MongoDB repository interfaces.
2022-02-09 13:29:12.661  INFO 342 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2022-02-09 13:29:12.662  INFO 342 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2022-02-09 13:29:12.684  INFO 342 --- [Test worker] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a060fd0c-f64d-3d0c-ba90-e1c9fe68deac
2022-02-09 13:29:13.487  INFO 342 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:29:13.609  INFO 342 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration' of type [org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:29:13.651  INFO 342 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'bindersHealthContributor' of type [org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration$BindersHealthContributor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:29:13.675  INFO 342 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'bindersHealthIndicatorListener' of type [org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration$BindersHealthIndicatorListener] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:29:13.826  INFO 342 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:29:13.966  INFO 342 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:29:13.979  INFO 342 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:29:14.011  INFO 342 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 13:29:15.425  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.425+08:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"thread1","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
2022-02-09 13:29:15.428  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.425+08:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"thread1","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 13:29:15.429  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.425+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"thread1","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 13:29:15.430  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.426+08:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"thread1","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
2022-02-09 13:29:15.430  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.427+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"thread1","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 13:29:15.430  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.428+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","ns":"config.tenantMigrationDonors"}}
2022-02-09 13:29:15.431  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.428+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","ns":"config.tenantMigrationRecipients"}}
2022-02-09 13:29:15.432  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.428+08:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"thread1","msg":"Multi threading initialized"}
2022-02-09 13:29:15.432  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.428+08:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":424,"port":37165,"dbPath":"/tmp/embedmongo-db-cb44484a-fd8a-4c26-abc8-ea0542b0bcd5","architecture":"64-bit","host":"MTNB1007"}}
2022-02-09 13:29:15.432  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.428+08:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"5.0.5","gitVersion":"d65fd89df3fc039b5c55933c0f71d647a54510ae","openSSLVersion":"OpenSSL 1.1.1f  31 Mar 2020","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu2004","distarch":"x86_64","target_arch":"x86_64"}}}}
2022-02-09 13:29:15.433  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.428+08:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"20.04"}}}
2022-02-09 13:29:15.433  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.428+08:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":37165},"security":{"authorization":"disabled"},"storage":{"dbPath":"/tmp/embedmongo-db-cb44484a-fd8a-4c26-abc8-ea0542b0bcd5","journal":{"enabled":false},"syncPeriodSecs":0}}}}
2022-02-09 13:29:15.433  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.429+08:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
2022-02-09 13:29:15.434  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.429+08:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=5789M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
2022-02-09 13:29:15.973  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.972+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644384555:972906][424:0x7f727ccd3c80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global recovery timestamp: (0, 0)"}}
2022-02-09 13:29:15.974  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:15.972+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644384555:972985][424:0x7f727ccd3c80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global oldest timestamp: (0, 0)"}}
2022-02-09 13:29:16.002  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.002+08:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":573}}
2022-02-09 13:29:16.003  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.002+08:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
2022-02-09 13:29:16.035  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.034+08:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
2022-02-09 13:29:16.036  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.035+08:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
2022-02-09 13:29:16.043  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.043+08:00"},"s":"W",  "c":"CONTROL",  "id":22178,   "ctx":"initandlisten","msg":"/sys/kernel/mm/transparent_hugepage/enabled is 'always'. We suggest setting it to 'never'","tags":["startupWarnings"]}
2022-02-09 13:29:16.044  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.043+08:00"},"s":"W",  "c":"CONTROL",  "id":22184,   "ctx":"initandlisten","msg":"Soft rlimits for open file descriptors too low","attr":{"currentValue":4096,"recommendedMinimum":64000},"tags":["startupWarnings"]}
2022-02-09 13:29:16.044  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.044+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"e7328d83-1e1f-40b4-9192-0c70a10bca9c"}},"options":{"uuid":{"$uuid":"e7328d83-1e1f-40b4-9192-0c70a10bca9c"}}}}
2022-02-09 13:29:16.081  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.081+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":null}}
2022-02-09 13:29:16.082  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.081+08:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"5.0"}}
2022-02-09 13:29:16.082  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.081+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 13:29:16.083  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.081+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 13:29:16.083  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.081+08:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
2022-02-09 13:29:16.084  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.081+08:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
2022-02-09 13:29:16.085  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.082+08:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/embedmongo-db-cb44484a-fd8a-4c26-abc8-ea0542b0bcd5/diagnostic.data"}}
2022-02-09 13:29:16.085  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.082+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"c1facbc3-7fe2-4874-87df-25f5c9dfdfd7"}},"options":{"capped":true,"size":10485760}}}
2022-02-09 13:29:16.120  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.120+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":null}}
2022-02-09 13:29:16.121  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.120+08:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
2022-02-09 13:29:16.122  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.122+08:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
2022-02-09 13:29:16.123  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.122+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"ab012b74-a185-41c4-a14a-7e3b6ed9bae8"}},"options":{}}}
2022-02-09 13:29:16.124  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.123+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"/tmp/mongodb-37165.sock"}}
2022-02-09 13:29:16.124  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.123+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
2022-02-09 13:29:16.125  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.123+08:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":37165,"ssl":"off"}}
2022-02-09 13:29:16.126  INFO 342 --- [Test worker] d.f.embed.mongo.MongodExecutable         : start MongodConfig{version=Version{5.0.5}, timeout=de.flapdoodle.embed.mongo.config.Timeout@d978ab9, net=de.flapdoodle.embed.mongo.config.Net@3cf06a01, cmdOptions=MongoCmdOptions{syncDelay=0, useDefaultSyncDelay=false, isVerbose=false, useNoPrealloc=true, useSmallFiles=true, useNoJournal=true, enableTextSearch=false, auth=false, master=false}, password=, userName=, replication=de.flapdoodle.embed.mongo.config.Storage@71ee2fff, isConfigServer=false, isShardServer=false, processListener=de.flapdoodle.embed.mongo.config.processlistener.NoopProcessListener@68f2363, params={}, args={}, pidFile=mongod.pid, supportConfig=de.flapdoodle.embed.mongo.config.SupportConfig@37fca349}
2022-02-09 13:29:16.158  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.158+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":null}}
2022-02-09 13:29:16.158  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:16.158+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":null}}
2022-02-09 13:29:17.109  INFO 342 --- [Test worker] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:37165], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}
2022-02-09 13:29:17.113  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:17.113+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:41306","uuid":"33099077-3359-4607-9081-36403ac0773d","connectionId":1,"connectionCount":1}}
2022-02-09 13:29:17.114  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:17.113+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:41308","uuid":"38c5bb7f-1fba-451f-acda-6e2b84413fdc","connectionId":2,"connectionCount":2}}
2022-02-09 13:29:17.115  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:17.115+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:41308","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 13:29:17.117  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:17.115+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:41306","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 13:29:17.117  INFO 342 --- [cluster-rtt-ClusterId{value='6203512d812e80208d486acf', description='null'}-localhost:37165] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:2}] to localhost:37165
2022-02-09 13:29:17.117  INFO 342 --- [cluster-ClusterId{value='6203512d812e80208d486acf', description='null'}-localhost:37165] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:1}] to localhost:37165
2022-02-09 13:29:17.118  INFO 342 --- [cluster-ClusterId{value='6203512d812e80208d486acf', description='null'}-localhost:37165] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:37165, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=3533300}
2022-02-09 13:29:17.172  WARN 342 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 13:29:17.478  WARN 342 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 13:29:24.549  INFO 342 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 13:29:26.664  INFO 342 --- [Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 20 endpoint(s) beneath base path '/actuator'
2022-02-09 13:29:28.558  INFO 342 --- [Test worker] onConfiguration$FunctionBindingRegistrar : Functional binding is disabled due to the presense of @EnableBinding annotation in your configuration
2022-02-09 13:29:31.971  INFO 342 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 13:29:32.113  INFO 342 --- [Test worker] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-02-09 13:29:32.959  WARN 342 --- [Test worker] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-02-09 13:29:34.759  INFO 342 --- [Test worker] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'product.input' has 1 subscriber(s).
2022-02-09 13:29:34.790  INFO 342 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 13:29:34.793  INFO 342 --- [Test worker] o.s.i.channel.PublishSubscribeChannel    : Channel 'product.errorChannel' has 1 subscriber(s).
2022-02-09 13:29:34.794  INFO 342 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2022-02-09 13:29:35.605  INFO 342 --- [Test worker] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 42891
2022-02-09 13:29:36.608  INFO 342 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 13:29:37.610  INFO 342 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 13:29:37.683  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:37.683+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:41310","uuid":"2980fdcf-9f7d-4dce-b172-6e43944aacd0","connectionId":3,"connectionCount":3}}
2022-02-09 13:29:37.684  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:37.684+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:41310","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 13:29:37.685  INFO 342 --- [nioEventLoopGroup-4-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:3}] to localhost:37165
2022-02-09 13:29:37.706  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:37.705+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"product-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"cdeb76c8-5e5d-49b9-8136-11dc253e5edf"}},"options":{}}}
2022-02-09 13:29:37.737  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:37.737+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"product-db.products","index":"_id_","commitTimestamp":null}}
2022-02-09 13:29:37.738  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:37.737+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"product-db.products","index":"productId","commitTimestamp":null}}
2022-02-09 13:29:37.743  INFO 342 --- [Test worker] s.m.m.c.p.ProductServiceApplicationTests : Started ProductServiceApplicationTests in 32.037 seconds (JVM running for 58.383)
2022-02-09 13:29:38.131  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Process message created at 2022-02-09T13:29:38.115...
2022-02-09 13:29:38.141  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Create product with ID: 1
2022-02-09 13:29:38.164  INFO 342 --- [Test worker] reactor.Mono.UsingWhen.1                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 13:29:38.167  INFO 342 --- [Test worker] reactor.Mono.UsingWhen.1                 : request(unbounded)
2022-02-09 13:29:38.172  INFO 342 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.1                 : onNext(ProductEntity: 1)
2022-02-09 13:29:38.174  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Message processing done!
2022-02-09 13:29:38.174  INFO 342 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.1                 : onComplete()
2022-02-09 13:29:39.456  INFO 342 --- [reactor-http-epoll-4] reactor.Mono.SwitchIfEmpty.2             : onSubscribe(FluxSwitchIfEmpty.SwitchIfEmptySubscriber)
2022-02-09 13:29:39.456  INFO 342 --- [reactor-http-epoll-4] reactor.Mono.SwitchIfEmpty.2             : request(unbounded)
2022-02-09 13:29:39.461  INFO 342 --- [nioEventLoopGroup-4-3] reactor.Mono.SwitchIfEmpty.2             : onNext(ProductEntity: 1)
2022-02-09 13:29:39.516  INFO 342 --- [nioEventLoopGroup-4-3] reactor.Mono.SwitchIfEmpty.2             : onComplete()
2022-02-09 13:29:40.108 DEBUG 342 --- [reactor-http-epoll-4] s.m.u.h.GlobalControllerExceptionHandler : Returning HTTP status: 422 UNPROCESSABLE_ENTITY for path: /product/-1, message: Invalid productId: -1
2022-02-09 13:29:40.162  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Process message created at 2022-02-09T13:29:40.162...
2022-02-09 13:29:40.162  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Create product with ID: 1
2022-02-09 13:29:40.163  INFO 342 --- [Test worker] reactor.Mono.UsingWhen.3                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 13:29:40.163  INFO 342 --- [Test worker] reactor.Mono.UsingWhen.3                 : request(unbounded)
2022-02-09 13:29:40.167  INFO 342 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.3                 : onNext(ProductEntity: 1)
2022-02-09 13:29:40.168  INFO 342 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.3                 : onComplete()
2022-02-09 13:29:40.168  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Message processing done!
2022-02-09 13:29:40.173  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Process message created at 2022-02-09T13:29:40.173...
2022-02-09 13:29:40.174  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Delete recommendations with ProductID: 1
2022-02-09 13:29:40.175 DEBUG 342 --- [Test worker] s.m.m.c.p.services.ProductServiceImpl    : deleteProduct: tries to delete an entity with productId: 1
2022-02-09 13:29:40.176  INFO 342 --- [Test worker] reactor.Mono.Next.4                      : onSubscribe(MonoNext.NextSubscriber)
2022-02-09 13:29:40.177  INFO 342 --- [Test worker] reactor.Mono.Next.4                      : request(unbounded)
2022-02-09 13:29:40.181  INFO 342 --- [nioEventLoopGroup-4-3] reactor.Mono.Next.4                      : onNext(ProductEntity: 1)
2022-02-09 13:29:40.182  INFO 342 --- [nioEventLoopGroup-4-3] reactor.Mono.Next.4                      : onComplete()
2022-02-09 13:29:40.185  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Message processing done!
2022-02-09 13:29:40.189  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Process message created at 2022-02-09T13:29:40.189...
2022-02-09 13:29:40.190  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Delete recommendations with ProductID: 1
2022-02-09 13:29:40.191 DEBUG 342 --- [Test worker] s.m.m.c.p.services.ProductServiceImpl    : deleteProduct: tries to delete an entity with productId: 1
2022-02-09 13:29:40.192  INFO 342 --- [Test worker] reactor.Mono.Next.5                      : onSubscribe(MonoNext.NextSubscriber)
2022-02-09 13:29:40.193  INFO 342 --- [Test worker] reactor.Mono.Next.5                      : request(unbounded)
2022-02-09 13:29:40.196  INFO 342 --- [nioEventLoopGroup-4-3] reactor.Mono.Next.5                      : onComplete()
2022-02-09 13:29:40.197  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Message processing done!
2022-02-09 13:29:40.232  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Process message created at 2022-02-09T13:29:40.231...
2022-02-09 13:29:40.232  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Create product with ID: 1
2022-02-09 13:29:40.233  INFO 342 --- [Test worker] reactor.Mono.UsingWhen.6                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 13:29:40.233  INFO 342 --- [Test worker] reactor.Mono.UsingWhen.6                 : request(unbounded)
2022-02-09 13:29:40.236  INFO 342 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.6                 : onNext(ProductEntity: 1)
2022-02-09 13:29:40.237  INFO 342 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.6                 : onComplete()
2022-02-09 13:29:40.237  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Message processing done!
2022-02-09 13:29:40.241  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Process message created at 2022-02-09T13:29:40.241...
2022-02-09 13:29:40.242  INFO 342 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Create product with ID: 1
2022-02-09 13:29:40.243  INFO 342 --- [Test worker] reactor.Mono.UsingWhen.7                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 13:29:40.243  INFO 342 --- [Test worker] reactor.Mono.UsingWhen.7                 : request(unbounded)
2022-02-09 13:29:40.247 ERROR 342 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.7                 : onError(org.springframework.dao.DuplicateKeyException: Write operation error on server localhost:37165. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: product-db.products index: productId dup key: { productId: 1 }', details={}}.; nested exception is com.mongodb.MongoWriteException: Write operation error on server localhost:37165. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: product-db.products index: productId dup key: { productId: 1 }', details={}}.)
2022-02-09 13:29:40.274 ERROR 342 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.7                 : 

org.springframework.dao.DuplicateKeyException: Write operation error on server localhost:37165. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: product-db.products index: productId dup key: { productId: 1 }', details={}}.; nested exception is com.mongodb.MongoWriteException: Write operation error on server localhost:37165. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: product-db.products index: productId dup key: { productId: 1 }', details={}}.
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:106) ~[spring-data-mongodb-3.3.1.jar:3.3.1]
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2839) ~[spring-data-mongodb-3.3.1.jar:3.3.1]
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$91(ReactiveMongoTemplate.java:2822) ~[spring-data-mongodb-3.3.1.jar:3.3.1]
	at reactor.core.publisher.Flux.lambda$onErrorMap$28(Flux.java:6911) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) [reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) [reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) [reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:194) ~[reactor-core-3.4.14.jar:3.4.14]
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$30(MongoOperationPublisher.java:545) ~[mongodb-driver-reactivestreams-4.4.1.jar:na]
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:124) ~[mongodb-driver-reactivestreams-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.CommandOperationHelper.lambda$exceptionTransformingCallback$23(CommandOperationHelper.java:627) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:95) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.RetryingAsyncCallbackSupplier$RetryingCallback.onResult(RetryingAsyncCallbackSupplier.java:109) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:95) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:95) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$executeBulkWriteBatchAsync$11(MixedBulkWriteOperation.java:424) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:84) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:61) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.LoopState.breakAndCompleteIf(LoopState.java:111) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$executeBulkWriteBatchAsync$10(MixedBulkWriteOperation.java:378) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:82) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:61) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$executeBulkWriteBatchAsync$9(MixedBulkWriteOperation.java:400) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor$2.onResult(DefaultServer.java:280) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.CommandProtocolImpl$1.onResult(CommandProtocolImpl.java:84) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection$1.onResult(DefaultConnectionPool.java:687) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.UsageTrackingInternalConnection$2.onResult(UsageTrackingInternalConnection.java:159) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:526) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:503) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:815) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:782) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:650) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:647) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:266) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.readAsync(InternalStreamConnection.java:647) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.access$600(InternalStreamConnection.java:86) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:772) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:757) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:650) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:647) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:347) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:105) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:421) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:418) ~[mongodb-driver-core-4.4.1.jar:na]
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_312]
Caused by: com.mongodb.MongoWriteException: Write operation error on server localhost:37165. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: product-db.products index: productId dup key: { productId: 1 }', details={}}.
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$createSingleWriteRequestMono$24(MongoOperationPublisher.java:490) ~[mongodb-driver-reactivestreams-4.4.1.jar:na]
	at reactor.core.publisher.Mono.lambda$onErrorMap$30(Mono.java:3719) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.lambda$onErrorResume$32(Mono.java:3809) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) [reactor-core-3.4.14.jar:3.4.14]
	... 67 common frames omitted

2022-02-09 13:29:40.501  INFO 342 --- [reactor-http-epoll-4] reactor.Mono.SwitchIfEmpty.8             : onSubscribe(FluxSwitchIfEmpty.SwitchIfEmptySubscriber)
2022-02-09 13:29:40.502  INFO 342 --- [reactor-http-epoll-4] reactor.Mono.SwitchIfEmpty.8             : request(unbounded)
2022-02-09 13:29:40.505 ERROR 342 --- [nioEventLoopGroup-4-3] reactor.Mono.SwitchIfEmpty.8             : onError(se.magnus.util.exceptions.NotFoundException: No product found for productId: 13)
2022-02-09 13:29:40.506 ERROR 342 --- [nioEventLoopGroup-4-3] reactor.Mono.SwitchIfEmpty.8             : 

se.magnus.util.exceptions.NotFoundException: No product found for productId: 13
	at se.magnus.microservices.core.product.services.ProductServiceImpl.getProduct(ProductServiceImpl.java:58) ~[main/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_312]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_312]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_312]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_312]
	at org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:144) ~[spring-webflux-5.3.15.jar:5.3.15]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:251) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:336) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:101) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2068) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:192) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4385) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:128) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:236) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:181) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators.complete(Operators.java:137) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:120) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:255) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:169) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2068) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:255) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:962) ~[reactor-netty-http-1.0.15.jar:1.0.15]
	at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:671) ~[reactor-netty-core-1.0.15.jar:1.0.15]
	at reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:478) ~[reactor-netty-core-1.0.15.jar:1.0.15]
	at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:560) ~[reactor-netty-http-1.0.15.jar:1.0.15]
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93) ~[reactor-netty-core-1.0.15.jar:1.0.15]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:220) ~[reactor-netty-http-1.0.15.jar:1.0.15]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327) ~[netty-codec-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299) ~[netty-codec-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) ~[netty-transport-classes-epoll-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) ~[netty-transport-classes-epoll-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) ~[netty-transport-classes-epoll-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_312]

2022-02-09 13:29:40.512 DEBUG 342 --- [nioEventLoopGroup-4-3] s.m.u.h.GlobalControllerExceptionHandler : Returning HTTP status: 404 NOT_FOUND for path: /product/13, message: No product found for productId: 13
2022-02-09 13:29:40.543  INFO 342 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 13:29:40.544  INFO 342 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'product.errorChannel' has 0 subscriber(s).
2022-02-09 13:29:40.545  INFO 342 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2022-02-09 13:29:40.574  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:40.574+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:46942","uuid":"461db5e5-1def-41ca-b08b-841bd46d49d4","connectionId":3,"connectionCount":2}}
2022-02-09 13:29:40.576  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:40.575+08:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":144}}
2022-02-09 13:29:40.576  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:40.575+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:46938","uuid":"f81b06eb-b28c-4f14-894b-0592a4c32054","connectionId":2,"connectionCount":1}}
2022-02-09 13:29:40.577  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:40.575+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:46936","uuid":"f00e7660-3dad-4f8f-98c2-bbae472591ec","connectionId":1,"connectionCount":0}}
2022-02-09 13:29:42.624  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.624+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:46952","uuid":"724abf23-f770-4e7d-af89-8924b941d213","connectionId":4,"connectionCount":1}}
2022-02-09 13:29:42.625  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.625+08:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn4","msg":"Terminating via shutdown command","attr":{"force":true,"timeoutSecs":0}}
2022-02-09 13:29:42.626  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.625+08:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"conn4","msg":"Attempting to enter quiesce mode"}
2022-02-09 13:29:42.627  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.625+08:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"conn4","msg":"Shutting down the MirrorMaestro"}
2022-02-09 13:29:42.628  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.625+08:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"conn4","msg":"Shutting down the WaitForMajorityService"}
2022-02-09 13:29:42.629  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.625+08:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"conn4","msg":"Shutting down the LogicalSessionCache"}
2022-02-09 13:29:42.629  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.626+08:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"conn4","msg":"Shutdown: going to close listening sockets"}
2022-02-09 13:29:42.630  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.626+08:00"},"s":"I",  "c":"NETWORK",  "id":23017,   "ctx":"listener","msg":"removing socket file","attr":{"path":"/tmp/mongodb-27017.sock"}}
2022-02-09 13:29:42.630  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.626+08:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"conn4","msg":"Shutting down the global connection pool"}
2022-02-09 13:29:42.631  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.626+08:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"conn4","msg":"Shutting down the FlowControlTicketholder"}
2022-02-09 13:29:42.631  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.626+08:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"conn4","msg":"Stopping further Flow Control ticket acquisitions."}
2022-02-09 13:29:42.632  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.626+08:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"conn4","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
2022-02-09 13:29:42.636  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.626+08:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"conn4","msg":"Shutting down the ReplicationCoordinator"}
2022-02-09 13:29:42.637  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.626+08:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"conn4","msg":"Shutting down the ShardingInitializationMongoD"}
2022-02-09 13:29:42.638  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.626+08:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"conn4","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
2022-02-09 13:29:42.638  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"conn4","msg":"Killing all operations for shutdown"}
2022-02-09 13:29:42.639  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"conn4","msg":"Interrupted all currently running operations","attr":{"opsKilled":2}}
2022-02-09 13:29:42.639  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"conn4","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
2022-02-09 13:29:42.640  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"conn4","msg":"Shutting down all open transactions"}
2022-02-09 13:29:42.640  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"conn4","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 13:29:42.640  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"conn4","msg":"Shutting down the IndexBuildsCoordinator"}
2022-02-09 13:29:42.641  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"REPL",     "id":4784916, "ctx":"conn4","msg":"Reacquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 13:29:42.641  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"REPL",     "id":4784917, "ctx":"conn4","msg":"Attempting to mark clean shutdown"}
2022-02-09 13:29:42.642  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"conn4","msg":"Shutting down the ReplicaSetMonitor"}
2022-02-09 13:29:42.642  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"conn4","msg":"Shutting down the MigrationUtilExecutor"}
2022-02-09 13:29:42.643  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
2022-02-09 13:29:42.643  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"conn4","msg":"Shutting down the ServiceEntryPoint"}
2022-02-09 13:29:42.643  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 13:29:42.644  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 13:29:42.644  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"conn4","msg":"Shutting down the HealthLog"}
2022-02-09 13:29:42.644  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"conn4","msg":"Shutting down the TTL monitor"}
2022-02-09 13:29:42.645  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"conn4","msg":"Shutting down TTL collection monitor thread"}
2022-02-09 13:29:42.645  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"conn4","msg":"Finished shutting down TTL collection monitor thread"}
2022-02-09 13:29:42.645  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"conn4","msg":"Acquiring the global lock for shutdown"}
2022-02-09 13:29:42.646  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"conn4","msg":"Shutting down the storage engine"}
2022-02-09 13:29:42.647  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.627+08:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"conn4","msg":"Shutting down journal flusher thread"}
2022-02-09 13:29:42.647  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.630+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"JournalFlusher","msg":"WiredTiger message","attr":{"message":"[1644384582:630105][376:0x7fb609207700], WT_SESSION.checkpoint: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 60, snapshot max: 60 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 13:29:42.698  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.697+08:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"conn4","msg":"Finished shutting down journal flusher thread"}
2022-02-09 13:29:42.698  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.698+08:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"conn4","msg":"Shutting down checkpoint thread"}
2022-02-09 13:29:42.699  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.698+08:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"conn4","msg":"Finished shutting down checkpoint thread"}
2022-02-09 13:29:42.700  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.698+08:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"conn4","msg":"Deregistering all the collections"}
2022-02-09 13:29:42.700  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.698+08:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"conn4","msg":"Timestamp monitor shutting down"}
2022-02-09 13:29:42.700  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.698+08:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"conn4","msg":"WiredTigerKVEngine shutting down"}
2022-02-09 13:29:42.701  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.698+08:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"conn4","msg":"Shutting down session sweeper thread"}
2022-02-09 13:29:42.701  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.698+08:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"conn4","msg":"Finished shutting down session sweeper thread"}
2022-02-09 13:29:42.702  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.698+08:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"conn4","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
2022-02-09 13:29:42.702  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.699+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"conn4","msg":"WiredTiger message","attr":{"message":"[1644384582:699319][376:0x7fb6001f5700], close_ckpt: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 63, snapshot max: 63 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 13:29:42.716  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.716+08:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"conn4","msg":"WiredTiger closed","attr":{"durationMillis":18}}
2022-02-09 13:29:42.717  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.716+08:00"},"s":"I",  "c":"STORAGE",  "id":22279,   "ctx":"conn4","msg":"shutdown: removing fs lock..."}
2022-02-09 13:29:42.718  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.716+08:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"conn4","msg":"Dropping the scope cache for shutdown"}
2022-02-09 13:29:42.719  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.716+08:00"},"s":"I",  "c":"FTDC",     "id":4784926, "ctx":"conn4","msg":"Shutting down full-time data capture"}
2022-02-09 13:29:42.719  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.716+08:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"conn4","msg":"Shutting down full-time diagnostic data capture"}
2022-02-09 13:29:42.720  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.720+08:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"conn4","msg":"Now exiting"}
2022-02-09 13:29:42.720  INFO 342 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.720+08:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"conn4","msg":"Shutting down","attr":{"exitCode":0}}
2022-02-09 13:29:42.885  INFO 342 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 13:29:42.886  INFO 342 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'product.errorChannel' has 0 subscriber(s).
2022-02-09 13:29:42.886  INFO 342 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2022-02-09 13:29:42.895  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.895+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:41310","uuid":"2980fdcf-9f7d-4dce-b172-6e43944aacd0","connectionId":3,"connectionCount":2}}
2022-02-09 13:29:42.896  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.895+08:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":64}}
2022-02-09 13:29:42.896  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.895+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:41308","uuid":"38c5bb7f-1fba-451f-acda-6e2b84413fdc","connectionId":2,"connectionCount":1}}
2022-02-09 13:29:42.897  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:42.895+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:41306","uuid":"33099077-3359-4607-9081-36403ac0773d","connectionId":1,"connectionCount":0}}
2022-02-09 13:29:44.930  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.930+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:41316","uuid":"d0e0583f-f76f-42f2-9b7f-9056edd2c806","connectionId":4,"connectionCount":1}}
2022-02-09 13:29:44.931  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.931+08:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn4","msg":"Terminating via shutdown command","attr":{"force":true,"timeoutSecs":0}}
2022-02-09 13:29:44.932  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.931+08:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"conn4","msg":"Attempting to enter quiesce mode"}
2022-02-09 13:29:44.933  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.931+08:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"conn4","msg":"Shutting down the MirrorMaestro"}
2022-02-09 13:29:44.933  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.931+08:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"conn4","msg":"Shutting down the WaitForMajorityService"}
2022-02-09 13:29:44.934  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.931+08:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"conn4","msg":"Shutting down the LogicalSessionCache"}
2022-02-09 13:29:44.935  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.932+08:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"conn4","msg":"Shutdown: going to close listening sockets"}
2022-02-09 13:29:44.935  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.932+08:00"},"s":"I",  "c":"NETWORK",  "id":23017,   "ctx":"listener","msg":"removing socket file","attr":{"path":"/tmp/mongodb-37165.sock"}}
2022-02-09 13:29:44.936  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.932+08:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"conn4","msg":"Shutting down the global connection pool"}
2022-02-09 13:29:44.936  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.932+08:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"conn4","msg":"Shutting down the FlowControlTicketholder"}
2022-02-09 13:29:44.937  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.932+08:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"conn4","msg":"Stopping further Flow Control ticket acquisitions."}
2022-02-09 13:29:44.938  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.932+08:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"conn4","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
2022-02-09 13:29:44.938  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.932+08:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"conn4","msg":"Shutting down the ReplicationCoordinator"}
2022-02-09 13:29:44.938  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"conn4","msg":"Shutting down the ShardingInitializationMongoD"}
2022-02-09 13:29:44.939  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"conn4","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
2022-02-09 13:29:44.939  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"conn4","msg":"Killing all operations for shutdown"}
2022-02-09 13:29:44.940  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"conn4","msg":"Interrupted all currently running operations","attr":{"opsKilled":2}}
2022-02-09 13:29:44.941  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"conn4","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
2022-02-09 13:29:44.941  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"conn4","msg":"Shutting down all open transactions"}
2022-02-09 13:29:44.942  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"conn4","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 13:29:44.942  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"conn4","msg":"Shutting down the IndexBuildsCoordinator"}
2022-02-09 13:29:44.942  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"REPL",     "id":4784916, "ctx":"conn4","msg":"Reacquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 13:29:44.943  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"REPL",     "id":4784917, "ctx":"conn4","msg":"Attempting to mark clean shutdown"}
2022-02-09 13:29:44.943  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"conn4","msg":"Shutting down the ReplicaSetMonitor"}
2022-02-09 13:29:44.944  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"conn4","msg":"Shutting down the MigrationUtilExecutor"}
2022-02-09 13:29:44.944  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
2022-02-09 13:29:44.944  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"conn4","msg":"Shutting down the ServiceEntryPoint"}
2022-02-09 13:29:44.945  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 13:29:44.945  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 13:29:44.945  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"conn4","msg":"Shutting down the HealthLog"}
2022-02-09 13:29:44.946  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"conn4","msg":"Shutting down the TTL monitor"}
2022-02-09 13:29:44.946  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.933+08:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"conn4","msg":"Shutting down TTL collection monitor thread"}
2022-02-09 13:29:44.947  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.934+08:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"conn4","msg":"Finished shutting down TTL collection monitor thread"}
2022-02-09 13:29:44.947  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.934+08:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"conn4","msg":"Acquiring the global lock for shutdown"}
2022-02-09 13:29:44.948  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.934+08:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"conn4","msg":"Shutting down the storage engine"}
2022-02-09 13:29:44.948  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.934+08:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"conn4","msg":"Shutting down journal flusher thread"}
2022-02-09 13:29:44.948  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.936+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"JournalFlusher","msg":"WiredTiger message","attr":{"message":"[1644384584:936311][424:0x7f72764c5700], WT_SESSION.checkpoint: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 51, snapshot max: 51 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 13:29:44.966  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.966+08:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"conn4","msg":"Finished shutting down journal flusher thread"}
2022-02-09 13:29:44.966  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.966+08:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"conn4","msg":"Shutting down checkpoint thread"}
2022-02-09 13:29:44.967  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.966+08:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"conn4","msg":"Finished shutting down checkpoint thread"}
2022-02-09 13:29:44.968  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.966+08:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"conn4","msg":"Deregistering all the collections"}
2022-02-09 13:29:44.968  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.966+08:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"conn4","msg":"Timestamp monitor shutting down"}
2022-02-09 13:29:44.968  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.966+08:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"conn4","msg":"WiredTigerKVEngine shutting down"}
2022-02-09 13:29:44.968  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.966+08:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"conn4","msg":"Shutting down session sweeper thread"}
2022-02-09 13:29:44.969  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.966+08:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"conn4","msg":"Finished shutting down session sweeper thread"}
2022-02-09 13:29:44.969  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.966+08:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"conn4","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
2022-02-09 13:29:44.969  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.967+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"conn4","msg":"WiredTiger message","attr":{"message":"[1644384584:967755][424:0x7f726d4b3700], close_ckpt: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 54, snapshot max: 54 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 13:29:44.988  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.988+08:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"conn4","msg":"WiredTiger closed","attr":{"durationMillis":22}}
2022-02-09 13:29:44.988  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.988+08:00"},"s":"I",  "c":"STORAGE",  "id":22279,   "ctx":"conn4","msg":"shutdown: removing fs lock..."}
2022-02-09 13:29:44.989  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.988+08:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"conn4","msg":"Dropping the scope cache for shutdown"}
2022-02-09 13:29:44.989  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.988+08:00"},"s":"I",  "c":"FTDC",     "id":4784926, "ctx":"conn4","msg":"Shutting down full-time data capture"}
2022-02-09 13:29:44.989  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.988+08:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"conn4","msg":"Shutting down full-time diagnostic data capture"}
2022-02-09 13:29:44.990  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.990+08:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"conn4","msg":"Now exiting"}
2022-02-09 13:29:44.990  INFO 342 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T13:29:44.990+08:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"conn4","msg":"Shutting down","attr":{"exitCode":0}}
2022-02-09 14:11:27.650  INFO 13216 --- [Test worker] s.m.m.core.product.PersistenceTests      : Starting PersistenceTests using Java 1.8.0_312 on MTNB1007 with PID 13216 (started by andika in /mnt/d/development/Hands-On-Microservices-with-Spring-Boot-and-Spring-Cloud/Chapter09/microservices/product-service)
2022-02-09 14:11:27.688 DEBUG 13216 --- [Test worker] s.m.m.core.product.PersistenceTests      : Running with Spring Boot v2.6.3, Spring v5.3.15
2022-02-09 14:11:27.689  INFO 13216 --- [Test worker] s.m.m.core.product.PersistenceTests      : No active profile set, falling back to default profiles: default
2022-02-09 14:11:27.758  WARN 13216 --- [Test worker] o.s.b.c.config.ConfigDataEnvironment     : Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 64:18]
2022-02-09 14:11:29.789  INFO 13216 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2022-02-09 14:11:31.020  INFO 13216 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1210 ms. Found 1 Reactive MongoDB repository interfaces.
2022-02-09 14:11:31.279  INFO 13216 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2022-02-09 14:11:31.381  INFO 13216 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2022-02-09 14:11:31.452  INFO 13216 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2022-02-09 14:11:32.355  INFO 13216 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:11:33.818  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:33.818+08:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"-","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
2022-02-09 14:11:33.829  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:33.820+08:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"main","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 14:11:33.829  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:33.820+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 14:11:33.829  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:33.820+08:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"main","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
2022-02-09 14:11:33.830  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:33.822+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"main","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 14:11:33.831  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:33.822+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"main","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","ns":"config.tenantMigrationDonors"}}
2022-02-09 14:11:33.831  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:33.822+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"main","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","ns":"config.tenantMigrationRecipients"}}
2022-02-09 14:11:33.832  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:33.822+08:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"main","msg":"Multi threading initialized"}
2022-02-09 14:11:33.832  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:33.823+08:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":13249,"port":27017,"dbPath":"/tmp/embedmongo-db-dca8b3b4-9d83-49a3-8ff6-1e16921b4695","architecture":"64-bit","host":"MTNB1007"}}
2022-02-09 14:11:33.832  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:33.823+08:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"5.0.5","gitVersion":"d65fd89df3fc039b5c55933c0f71d647a54510ae","openSSLVersion":"OpenSSL 1.1.1f  31 Mar 2020","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu2004","distarch":"x86_64","target_arch":"x86_64"}}}}
2022-02-09 14:11:33.833  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:33.823+08:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"20.04"}}}
2022-02-09 14:11:33.833  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:33.823+08:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":27017},"security":{"authorization":"disabled"},"storage":{"dbPath":"/tmp/embedmongo-db-dca8b3b4-9d83-49a3-8ff6-1e16921b4695","journal":{"enabled":false},"syncPeriodSecs":0}}}}
2022-02-09 14:11:33.834  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:33.825+08:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
2022-02-09 14:11:33.834  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:33.825+08:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=5789M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
2022-02-09 14:11:34.329  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.329+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644387094:329527][13249:0x7f6fcb804c80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global recovery timestamp: (0, 0)"}}
2022-02-09 14:11:34.330  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.329+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644387094:329608][13249:0x7f6fcb804c80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global oldest timestamp: (0, 0)"}}
2022-02-09 14:11:34.357  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.357+08:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":532}}
2022-02-09 14:11:34.358  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.357+08:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
2022-02-09 14:11:34.396  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.396+08:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
2022-02-09 14:11:34.397  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.396+08:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
2022-02-09 14:11:34.411  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.411+08:00"},"s":"W",  "c":"CONTROL",  "id":22178,   "ctx":"initandlisten","msg":"/sys/kernel/mm/transparent_hugepage/enabled is 'always'. We suggest setting it to 'never'","tags":["startupWarnings"]}
2022-02-09 14:11:34.412  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.411+08:00"},"s":"W",  "c":"CONTROL",  "id":22184,   "ctx":"initandlisten","msg":"Soft rlimits for open file descriptors too low","attr":{"currentValue":4096,"recommendedMinimum":64000},"tags":["startupWarnings"]}
2022-02-09 14:11:34.413  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.412+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"c64e9099-56de-4144-8877-331f197b0234"}},"options":{"uuid":{"$uuid":"c64e9099-56de-4144-8877-331f197b0234"}}}}
2022-02-09 14:11:34.448  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.448+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":null}}
2022-02-09 14:11:34.449  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.448+08:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"5.0"}}
2022-02-09 14:11:34.450  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.448+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 14:11:34.450  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.448+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 14:11:34.451  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.448+08:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
2022-02-09 14:11:34.451  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.448+08:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
2022-02-09 14:11:34.452  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.449+08:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/embedmongo-db-dca8b3b4-9d83-49a3-8ff6-1e16921b4695/diagnostic.data"}}
2022-02-09 14:11:34.453  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.450+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"719fed0c-fa29-4d9d-80e4-ebf663ee7a04"}},"options":{"capped":true,"size":10485760}}}
2022-02-09 14:11:34.505  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.505+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":null}}
2022-02-09 14:11:34.506  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.505+08:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
2022-02-09 14:11:34.507  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.507+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"e7e8d2b6-014e-43d8-b002-31d3387e9753"}},"options":{}}}
2022-02-09 14:11:34.508  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.507+08:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
2022-02-09 14:11:34.509  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.507+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"/tmp/mongodb-27017.sock"}}
2022-02-09 14:11:34.509  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.507+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
2022-02-09 14:11:34.509  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.507+08:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":27017,"ssl":"off"}}
2022-02-09 14:11:34.510  INFO 13216 --- [Test worker] d.f.embed.mongo.MongodExecutable         : start MongodConfig{version=Version{5.0.5}, timeout=de.flapdoodle.embed.mongo.config.Timeout@6325f352, net=de.flapdoodle.embed.mongo.config.Net@15c4af7a, cmdOptions=MongoCmdOptions{syncDelay=0, useDefaultSyncDelay=false, isVerbose=false, useNoPrealloc=true, useSmallFiles=true, useNoJournal=true, enableTextSearch=false, auth=false, master=false}, password=, userName=, replication=de.flapdoodle.embed.mongo.config.Storage@6cbd0674, isConfigServer=false, isShardServer=false, processListener=de.flapdoodle.embed.mongo.config.processlistener.NoopProcessListener@55d58825, params={}, args={}, pidFile=mongod.pid, supportConfig=de.flapdoodle.embed.mongo.config.SupportConfig@19a64eae}
2022-02-09 14:11:34.538  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.538+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":null}}
2022-02-09 14:11:34.539  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:34.538+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":null}}
2022-02-09 14:11:36.018  INFO 13216 --- [Test worker] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}
2022-02-09 14:11:36.771  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:36.771+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:48586","uuid":"b6ae21b9-cc04-4bdb-840d-d66707ebe9a0","connectionId":1,"connectionCount":1}}
2022-02-09 14:11:36.773  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:36.771+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:48584","uuid":"88cd9a55-6df8-4f4d-8fc3-80c2e014de13","connectionId":2,"connectionCount":2}}
2022-02-09 14:11:36.980  WARN 13216 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 14:11:37.019  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:37.019+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:48586","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 14:11:37.020  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:37.019+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:48584","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 14:11:37.109  INFO 13216 --- [cluster-ClusterId{value='62035b17de5a41631c72dd3f', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:2}] to localhost:27017
2022-02-09 14:11:37.109  INFO 13216 --- [cluster-rtt-ClusterId{value='62035b17de5a41631c72dd3f', description='null'}-localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:1}] to localhost:27017
2022-02-09 14:11:37.110  INFO 13216 --- [cluster-ClusterId{value='62035b17de5a41631c72dd3f', description='null'}-localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=300767400}
2022-02-09 14:11:37.577  WARN 13216 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 14:11:42.185  INFO 13216 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 14:11:42.186  INFO 13216 --- [Test worker] o.s.i.channel.PublishSubscribeChannel    : Channel 'product.errorChannel' has 1 subscriber(s).
2022-02-09 14:11:42.187  INFO 13216 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2022-02-09 14:11:42.745  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:42.745+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:48590","uuid":"2e72b448-5e9e-4b1b-bc74-b8ed859fdc24","connectionId":3,"connectionCount":3}}
2022-02-09 14:11:42.763  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:42.762+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:48590","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 14:11:42.777  INFO 13216 --- [nioEventLoopGroup-2-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:3}] to localhost:27017
2022-02-09 14:11:42.855  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:42.855+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"product-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"5c5a8446-43f5-445d-a8ec-9dadb7b84aaa"}},"options":{}}}
2022-02-09 14:11:42.955  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:42.954+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"product-db.products","index":"_id_","commitTimestamp":null}}
2022-02-09 14:11:42.957  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:42.954+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"product-db.products","index":"productId","commitTimestamp":null}}
2022-02-09 14:11:42.985  INFO 13216 --- [Test worker] s.m.m.core.product.PersistenceTests      : Started PersistenceTests in 19.398 seconds (JVM running for 23.628)
2022-02-09 14:11:46.036  INFO 13216 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [se.magnus.microservices.core.product.ProductServiceApplicationTests], using SpringBootContextLoader
2022-02-09 14:11:46.049  INFO 13216 --- [Test worker] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [se.magnus.microservices.core.product.ProductServiceApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-02-09 14:11:46.050  INFO 13216 --- [Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [se.magnus.microservices.core.product.ProductServiceApplicationTests]: ProductServiceApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-02-09 14:11:46.062  INFO 13216 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration se.magnus.microservices.core.product.ProductServiceApplication for test class se.magnus.microservices.core.product.ProductServiceApplicationTests
2022-02-09 14:11:46.087  INFO 13216 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2022-02-09 14:11:46.092  INFO 13216 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4601047, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@25e8e59, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3a0896b3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@50a7c72b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@54c11750, org.springframework.test.context.transaction.TransactionalTestExecutionListener@221b77d7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5cd8d029, org.springframework.test.context.event.EventPublishingTestExecutionListener@32a8ca06, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6e8f2094, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1753475d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@d108406, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@799c8758, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@6e00837f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@63e4484d]
2022-02-09 14:11:47.359  INFO 13216 --- [Test worker] s.m.m.c.p.ProductServiceApplicationTests : Starting ProductServiceApplicationTests using Java 1.8.0_312 on MTNB1007 with PID 13216 (started by andika in /mnt/d/development/Hands-On-Microservices-with-Spring-Boot-and-Spring-Cloud/Chapter09/microservices/product-service)
2022-02-09 14:11:47.360 DEBUG 13216 --- [Test worker] s.m.m.c.p.ProductServiceApplicationTests : Running with Spring Boot v2.6.3, Spring v5.3.15
2022-02-09 14:11:47.360  INFO 13216 --- [Test worker] s.m.m.c.p.ProductServiceApplicationTests : No active profile set, falling back to default profiles: default
2022-02-09 14:11:47.374  WARN 13216 --- [Test worker] o.s.b.c.config.ConfigDataEnvironment     : Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 64:18]
2022-02-09 14:11:51.721  INFO 13216 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive MongoDB repositories in DEFAULT mode.
2022-02-09 14:11:51.970  INFO 13216 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 247 ms. Found 1 Reactive MongoDB repository interfaces.
2022-02-09 14:11:52.908  INFO 13216 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2022-02-09 14:11:52.909  INFO 13216 --- [Test worker] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2022-02-09 14:11:52.928  INFO 13216 --- [Test worker] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a060fd0c-f64d-3d0c-ba90-e1c9fe68deac
2022-02-09 14:11:53.865  INFO 13216 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:11:53.958  INFO 13216 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration' of type [org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:11:54.002  INFO 13216 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'bindersHealthContributor' of type [org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration$BindersHealthContributor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:11:54.025  INFO 13216 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'bindersHealthIndicatorListener' of type [org.springframework.cloud.stream.config.BindersHealthIndicatorAutoConfiguration$BindersHealthIndicatorListener] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:11:54.163  INFO 13216 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:11:54.297  INFO 13216 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:11:54.310  INFO 13216 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:11:54.348  INFO 13216 --- [Test worker] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-02-09 14:11:55.777  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:55.777+08:00"},"s":"I",  "c":"NETWORK",  "id":4915701, "ctx":"thread1","msg":"Initialized wire specification","attr":{"spec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 14:11:55.780  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:55.777+08:00"},"s":"I",  "c":"CONTROL",  "id":23285,   "ctx":"thread1","msg":"Automatically disabling TLS 1.0, to force-enable TLS 1.0 specify --sslDisabledProtocols 'none'"}
2022-02-09 14:11:55.781  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:55.777+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"thread1","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 14:11:55.781  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:55.777+08:00"},"s":"I",  "c":"NETWORK",  "id":4648601, "ctx":"thread1","msg":"Implicit TCP FastOpen unavailable. If TCP FastOpen is required, set tcpFastOpenServer, tcpFastOpenClient, and tcpFastOpenQueueSize."}
2022-02-09 14:11:55.782  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:55.779+08:00"},"s":"W",  "c":"ASIO",     "id":22601,   "ctx":"thread1","msg":"No TransportLayer configured during NetworkInterface startup"}
2022-02-09 14:11:55.782  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:55.779+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationDonorService","ns":"config.tenantMigrationDonors"}}
2022-02-09 14:11:55.783  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:55.779+08:00"},"s":"I",  "c":"REPL",     "id":5123008, "ctx":"thread1","msg":"Successfully registered PrimaryOnlyService","attr":{"service":"TenantMigrationRecipientService","ns":"config.tenantMigrationRecipients"}}
2022-02-09 14:11:55.783  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:55.779+08:00"},"s":"I",  "c":"CONTROL",  "id":5945603, "ctx":"thread1","msg":"Multi threading initialized"}
2022-02-09 14:11:55.784  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:55.779+08:00"},"s":"I",  "c":"CONTROL",  "id":4615611, "ctx":"initandlisten","msg":"MongoDB starting","attr":{"pid":13297,"port":45307,"dbPath":"/tmp/embedmongo-db-fd1f87f5-4051-45c6-a1e9-e375080f18b3","architecture":"64-bit","host":"MTNB1007"}}
2022-02-09 14:11:55.784  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:55.779+08:00"},"s":"I",  "c":"CONTROL",  "id":23403,   "ctx":"initandlisten","msg":"Build Info","attr":{"buildInfo":{"version":"5.0.5","gitVersion":"d65fd89df3fc039b5c55933c0f71d647a54510ae","openSSLVersion":"OpenSSL 1.1.1f  31 Mar 2020","modules":[],"allocator":"tcmalloc","environment":{"distmod":"ubuntu2004","distarch":"x86_64","target_arch":"x86_64"}}}}
2022-02-09 14:11:55.785  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:55.779+08:00"},"s":"I",  "c":"CONTROL",  "id":51765,   "ctx":"initandlisten","msg":"Operating System","attr":{"os":{"name":"Ubuntu","version":"20.04"}}}
2022-02-09 14:11:55.785  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:55.779+08:00"},"s":"I",  "c":"CONTROL",  "id":21951,   "ctx":"initandlisten","msg":"Options set by command line","attr":{"options":{"net":{"bindIp":"127.0.0.1","port":45307},"security":{"authorization":"disabled"},"storage":{"dbPath":"/tmp/embedmongo-db-fd1f87f5-4051-45c6-a1e9-e375080f18b3","journal":{"enabled":false},"syncPeriodSecs":0}}}}
2022-02-09 14:11:55.786  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:55.780+08:00"},"s":"I",  "c":"STORAGE",  "id":22297,   "ctx":"initandlisten","msg":"Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem","tags":["startupWarnings"]}
2022-02-09 14:11:55.786  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:55.780+08:00"},"s":"I",  "c":"STORAGE",  "id":22315,   "ctx":"initandlisten","msg":"Opening WiredTiger","attr":{"config":"create,cache_size=5789M,session_max=33000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),log=(enabled=true,archive=true,path=journal,compressor=snappy),builtin_extension_config=(zstd=(compression_level=6)),file_manager=(close_idle_time=600,close_scan_interval=10,close_handle_minimum=250),statistics_log=(wait=0),verbose=[recovery_progress,checkpoint_progress,compact_progress],,log=(enabled=false),"}}
2022-02-09 14:11:56.318  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.318+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644387116:318547][13297:0x7fbf4c882c80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global recovery timestamp: (0, 0)"}}
2022-02-09 14:11:56.320  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.318+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"initandlisten","msg":"WiredTiger message","attr":{"message":"[1644387116:318619][13297:0x7fbf4c882c80], txn-recover: [WT_VERB_RECOVERY_ALL] Set global oldest timestamp: (0, 0)"}}
2022-02-09 14:11:56.365  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.365+08:00"},"s":"I",  "c":"STORAGE",  "id":4795906, "ctx":"initandlisten","msg":"WiredTiger opened","attr":{"durationMillis":585}}
2022-02-09 14:11:56.368  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.365+08:00"},"s":"I",  "c":"RECOVERY", "id":23987,   "ctx":"initandlisten","msg":"WiredTiger recoveryTimestamp","attr":{"recoveryTimestamp":{"$timestamp":{"t":0,"i":0}}}}
2022-02-09 14:11:56.424  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.423+08:00"},"s":"I",  "c":"STORAGE",  "id":4366408, "ctx":"initandlisten","msg":"No table logging settings modifications are required for existing WiredTiger tables","attr":{"loggingEnabled":true}}
2022-02-09 14:11:56.427  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.424+08:00"},"s":"I",  "c":"STORAGE",  "id":22262,   "ctx":"initandlisten","msg":"Timestamp monitor starting"}
2022-02-09 14:11:56.440  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.440+08:00"},"s":"W",  "c":"CONTROL",  "id":22178,   "ctx":"initandlisten","msg":"/sys/kernel/mm/transparent_hugepage/enabled is 'always'. We suggest setting it to 'never'","tags":["startupWarnings"]}
2022-02-09 14:11:56.441  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.440+08:00"},"s":"W",  "c":"CONTROL",  "id":22184,   "ctx":"initandlisten","msg":"Soft rlimits for open file descriptors too low","attr":{"currentValue":4096,"recommendedMinimum":64000},"tags":["startupWarnings"]}
2022-02-09 14:11:56.443  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.441+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"admin.system.version","uuidDisposition":"provided","uuid":{"uuid":{"$uuid":"731f936c-23d3-48af-b3c0-d58d474c2cd5"}},"options":{"uuid":{"$uuid":"731f936c-23d3-48af-b3c0-d58d474c2cd5"}}}}
2022-02-09 14:11:56.474  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.474+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"admin.system.version","index":"_id_","commitTimestamp":null}}
2022-02-09 14:11:56.477  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.474+08:00"},"s":"I",  "c":"REPL",     "id":20459,   "ctx":"initandlisten","msg":"Setting featureCompatibilityVersion","attr":{"newVersion":"5.0"}}
2022-02-09 14:11:56.478  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.474+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":0,"maxWireVersion":13},"outgoing":{"minWireVersion":0,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 14:11:56.478  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.474+08:00"},"s":"I",  "c":"NETWORK",  "id":4915702, "ctx":"initandlisten","msg":"Updated wire specification","attr":{"oldSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true},"newSpec":{"incomingExternalClient":{"minWireVersion":0,"maxWireVersion":13},"incomingInternalClient":{"minWireVersion":13,"maxWireVersion":13},"outgoing":{"minWireVersion":13,"maxWireVersion":13},"isInternalClient":true}}}
2022-02-09 14:11:56.479  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.475+08:00"},"s":"I",  "c":"STORAGE",  "id":5071100, "ctx":"initandlisten","msg":"Clearing temp directory"}
2022-02-09 14:11:56.479  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.475+08:00"},"s":"I",  "c":"CONTROL",  "id":20536,   "ctx":"initandlisten","msg":"Flow Control is enabled on this deployment"}
2022-02-09 14:11:56.480  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.475+08:00"},"s":"I",  "c":"FTDC",     "id":20625,   "ctx":"initandlisten","msg":"Initializing full-time diagnostic data capture","attr":{"dataDirectory":"/tmp/embedmongo-db-fd1f87f5-4051-45c6-a1e9-e375080f18b3/diagnostic.data"}}
2022-02-09 14:11:56.480  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.476+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"initandlisten","msg":"createCollection","attr":{"namespace":"local.startup_log","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"51148981-9955-41f5-b6a3-17d7bb23f81e"}},"options":{"capped":true,"size":10485760}}}
2022-02-09 14:11:56.529  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.528+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"initandlisten","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"local.startup_log","index":"_id_","commitTimestamp":null}}
2022-02-09 14:11:56.531  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.529+08:00"},"s":"I",  "c":"REPL",     "id":6015317, "ctx":"initandlisten","msg":"Setting new configuration state","attr":{"newState":"ConfigReplicationDisabled","oldState":"ConfigPreStart"}}
2022-02-09 14:11:56.533  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.533+08:00"},"s":"I",  "c":"CONTROL",  "id":20712,   "ctx":"LogicalSessionCacheReap","msg":"Sessions collection is not set up; waiting until next sessions reap interval","attr":{"error":"NamespaceNotFound: config.system.sessions does not exist"}}
2022-02-09 14:11:56.535  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.533+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"LogicalSessionCacheRefresh","msg":"createCollection","attr":{"namespace":"config.system.sessions","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"6a455266-7f48-4e61-8efb-f9e1beb20bc6"}},"options":{}}}
2022-02-09 14:11:56.536  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.533+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"/tmp/mongodb-45307.sock"}}
2022-02-09 14:11:56.537  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.533+08:00"},"s":"I",  "c":"NETWORK",  "id":23015,   "ctx":"listener","msg":"Listening on","attr":{"address":"127.0.0.1"}}
2022-02-09 14:11:56.538  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.533+08:00"},"s":"I",  "c":"NETWORK",  "id":23016,   "ctx":"listener","msg":"Waiting for connections","attr":{"port":45307,"ssl":"off"}}
2022-02-09 14:11:56.539  INFO 13216 --- [Test worker] d.f.embed.mongo.MongodExecutable         : start MongodConfig{version=Version{5.0.5}, timeout=de.flapdoodle.embed.mongo.config.Timeout@4af7ac25, net=de.flapdoodle.embed.mongo.config.Net@d978ab9, cmdOptions=MongoCmdOptions{syncDelay=0, useDefaultSyncDelay=false, isVerbose=false, useNoPrealloc=true, useSmallFiles=true, useNoJournal=true, enableTextSearch=false, auth=false, master=false}, password=, userName=, replication=de.flapdoodle.embed.mongo.config.Storage@3cf06a01, isConfigServer=false, isShardServer=false, processListener=de.flapdoodle.embed.mongo.config.processlistener.NoopProcessListener@71ee2fff, params={}, args={}, pidFile=mongod.pid, supportConfig=de.flapdoodle.embed.mongo.config.SupportConfig@68f2363}
2022-02-09 14:11:56.577  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.577+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"_id_","commitTimestamp":null}}
2022-02-09 14:11:56.578  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:56.577+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"LogicalSessionCacheRefresh","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"config.system.sessions","index":"lsidTTLIndex","commitTimestamp":null}}
2022-02-09 14:11:57.540  INFO 13216 --- [Test worker] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:45307], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}
2022-02-09 14:11:57.545  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:57.545+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:52066","uuid":"45396711-7251-4d19-8251-ab41a8e23918","connectionId":1,"connectionCount":1}}
2022-02-09 14:11:57.546  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:57.545+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:52068","uuid":"973b1602-9c50-4100-a995-aa96652307c4","connectionId":2,"connectionCount":2}}
2022-02-09 14:11:57.547  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:57.547+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn2","msg":"client metadata","attr":{"remote":"127.0.0.1:52068","client":"conn2","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 14:11:57.549  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:11:57.547+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn1","msg":"client metadata","attr":{"remote":"127.0.0.1:52066","client":"conn1","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 14:11:57.549  INFO 13216 --- [cluster-rtt-ClusterId{value='62035b2dde5a41631c72dd48', description='null'}-localhost:45307] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:2}] to localhost:45307
2022-02-09 14:11:57.549  INFO 13216 --- [cluster-ClusterId{value='62035b2dde5a41631c72dd48', description='null'}-localhost:45307] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:1}] to localhost:45307
2022-02-09 14:11:57.550  INFO 13216 --- [cluster-ClusterId{value='62035b2dde5a41631c72dd48', description='null'}-localhost:45307] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:45307, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=3520300}
2022-02-09 14:11:57.605  WARN 13216 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 14:11:57.920  WARN 13216 --- [Test worker] o.s.data.convert.CustomConversions       : Registering converter from class java.time.LocalDateTime to class org.joda.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might want to check your annotation setup at the converter implementation.
2022-02-09 14:12:05.347  INFO 13216 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 14:12:07.596  INFO 13216 --- [Test worker] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 20 endpoint(s) beneath base path '/actuator'
2022-02-09 14:12:09.526  INFO 13216 --- [Test worker] onConfiguration$FunctionBindingRegistrar : Functional binding is disabled due to the presense of @EnableBinding annotation in your configuration
2022-02-09 14:12:13.018  INFO 13216 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 14:12:13.165  INFO 13216 --- [Test worker] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2022-02-09 14:12:13.958  WARN 13216 --- [Test worker] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-02-09 14:12:15.781  INFO 13216 --- [Test worker] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'product.input' has 1 subscriber(s).
2022-02-09 14:12:15.811  INFO 13216 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 14:12:15.813  INFO 13216 --- [Test worker] o.s.i.channel.PublishSubscribeChannel    : Channel 'product.errorChannel' has 1 subscriber(s).
2022-02-09 14:12:15.814  INFO 13216 --- [Test worker] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'
2022-02-09 14:12:16.614  INFO 13216 --- [Test worker] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 41871
2022-02-09 14:12:17.616  INFO 13216 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 14:12:18.619  INFO 13216 --- [Test worker] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2022-02-09 14:12:18.713  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:18.713+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:52070","uuid":"331fd0ee-13cf-41a7-88da-a28418205979","connectionId":3,"connectionCount":3}}
2022-02-09 14:12:18.714  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:18.714+08:00"},"s":"I",  "c":"NETWORK",  "id":51800,   "ctx":"conn3","msg":"client metadata","attr":{"remote":"127.0.0.1:52070","client":"conn3","doc":{"driver":{"name":"mongo-java-driver|reactive-streams|spring-boot","version":"4.4.1"},"os":{"type":"Linux","name":"Linux","architecture":"amd64","version":"5.10.16.3-microsoft-standard-WSL2"},"platform":"Java/Private Build/1.8.0_312-8u312-b07-0ubuntu1~20.04-b07"}}}
2022-02-09 14:12:18.715  INFO 13216 --- [nioEventLoopGroup-4-3] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:3}] to localhost:45307
2022-02-09 14:12:18.743  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:18.743+08:00"},"s":"I",  "c":"STORAGE",  "id":20320,   "ctx":"conn3","msg":"createCollection","attr":{"namespace":"product-db.products","uuidDisposition":"generated","uuid":{"uuid":{"$uuid":"0e94a7bf-6eb1-4efc-9761-a566bab61387"}},"options":{}}}
2022-02-09 14:12:18.839  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:18.839+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"product-db.products","index":"_id_","commitTimestamp":null}}
2022-02-09 14:12:18.840  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:18.839+08:00"},"s":"I",  "c":"INDEX",    "id":20345,   "ctx":"conn3","msg":"Index build: done building","attr":{"buildUUID":null,"namespace":"product-db.products","index":"productId","commitTimestamp":null}}
2022-02-09 14:12:18.851  INFO 13216 --- [Test worker] s.m.m.c.p.ProductServiceApplicationTests : Started ProductServiceApplicationTests in 32.743 seconds (JVM running for 59.494)
2022-02-09 14:12:19.204  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Process message created at 2022-02-09T14:12:19.190...
2022-02-09 14:12:19.213  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Create product with ID: 1
2022-02-09 14:12:19.231  INFO 13216 --- [Test worker] reactor.Mono.UsingWhen.1                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 14:12:19.235  INFO 13216 --- [Test worker] reactor.Mono.UsingWhen.1                 : request(unbounded)
2022-02-09 14:12:19.240  INFO 13216 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.1                 : onNext(ProductEntity: 1)
2022-02-09 14:12:19.240  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Message processing done!
2022-02-09 14:12:19.241  INFO 13216 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.1                 : onComplete()
2022-02-09 14:12:20.436  INFO 13216 --- [reactor-http-epoll-4] reactor.Mono.SwitchIfEmpty.2             : onSubscribe(FluxSwitchIfEmpty.SwitchIfEmptySubscriber)
2022-02-09 14:12:20.437  INFO 13216 --- [reactor-http-epoll-4] reactor.Mono.SwitchIfEmpty.2             : request(unbounded)
2022-02-09 14:12:20.440  INFO 13216 --- [nioEventLoopGroup-4-3] reactor.Mono.SwitchIfEmpty.2             : onNext(ProductEntity: 1)
2022-02-09 14:12:20.497  INFO 13216 --- [nioEventLoopGroup-4-3] reactor.Mono.SwitchIfEmpty.2             : onComplete()
2022-02-09 14:12:21.061 DEBUG 13216 --- [reactor-http-epoll-4] s.m.u.h.GlobalControllerExceptionHandler : Returning HTTP status: 422 UNPROCESSABLE_ENTITY for path: /product/-1, message: Invalid productId: -1
2022-02-09 14:12:21.109  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Process message created at 2022-02-09T14:12:21.108...
2022-02-09 14:12:21.109  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Create product with ID: 1
2022-02-09 14:12:21.110  INFO 13216 --- [Test worker] reactor.Mono.UsingWhen.3                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 14:12:21.110  INFO 13216 --- [Test worker] reactor.Mono.UsingWhen.3                 : request(unbounded)
2022-02-09 14:12:21.113  INFO 13216 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.3                 : onNext(ProductEntity: 1)
2022-02-09 14:12:21.114  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Message processing done!
2022-02-09 14:12:21.114  INFO 13216 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.3                 : onComplete()
2022-02-09 14:12:21.118  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Process message created at 2022-02-09T14:12:21.118...
2022-02-09 14:12:21.118  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Delete recommendations with ProductID: 1
2022-02-09 14:12:21.119 DEBUG 13216 --- [Test worker] s.m.m.c.p.services.ProductServiceImpl    : deleteProduct: tries to delete an entity with productId: 1
2022-02-09 14:12:21.120  INFO 13216 --- [Test worker] reactor.Mono.Next.4                      : onSubscribe(MonoNext.NextSubscriber)
2022-02-09 14:12:21.121  INFO 13216 --- [Test worker] reactor.Mono.Next.4                      : request(unbounded)
2022-02-09 14:12:21.125  INFO 13216 --- [nioEventLoopGroup-4-3] reactor.Mono.Next.4                      : onNext(ProductEntity: 1)
2022-02-09 14:12:21.127  INFO 13216 --- [nioEventLoopGroup-4-3] reactor.Mono.Next.4                      : onComplete()
2022-02-09 14:12:21.129  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Message processing done!
2022-02-09 14:12:21.133  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Process message created at 2022-02-09T14:12:21.133...
2022-02-09 14:12:21.134  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Delete recommendations with ProductID: 1
2022-02-09 14:12:21.134 DEBUG 13216 --- [Test worker] s.m.m.c.p.services.ProductServiceImpl    : deleteProduct: tries to delete an entity with productId: 1
2022-02-09 14:12:21.135  INFO 13216 --- [Test worker] reactor.Mono.Next.5                      : onSubscribe(MonoNext.NextSubscriber)
2022-02-09 14:12:21.136  INFO 13216 --- [Test worker] reactor.Mono.Next.5                      : request(unbounded)
2022-02-09 14:12:21.139  INFO 13216 --- [nioEventLoopGroup-4-3] reactor.Mono.Next.5                      : onComplete()
2022-02-09 14:12:21.139  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Message processing done!
2022-02-09 14:12:21.170  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Process message created at 2022-02-09T14:12:21.170...
2022-02-09 14:12:21.171  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Create product with ID: 1
2022-02-09 14:12:21.171  INFO 13216 --- [Test worker] reactor.Mono.UsingWhen.6                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 14:12:21.172  INFO 13216 --- [Test worker] reactor.Mono.UsingWhen.6                 : request(unbounded)
2022-02-09 14:12:21.176  INFO 13216 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.6                 : onNext(ProductEntity: 1)
2022-02-09 14:12:21.176  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Message processing done!
2022-02-09 14:12:21.176  INFO 13216 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.6                 : onComplete()
2022-02-09 14:12:21.181  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Process message created at 2022-02-09T14:12:21.181...
2022-02-09 14:12:21.182  INFO 13216 --- [Test worker] s.m.m.c.p.services.MessageProcessor      : Create product with ID: 1
2022-02-09 14:12:21.183  INFO 13216 --- [Test worker] reactor.Mono.UsingWhen.7                 : onSubscribe(MonoUsingWhen.MonoUsingWhenSubscriber)
2022-02-09 14:12:21.183  INFO 13216 --- [Test worker] reactor.Mono.UsingWhen.7                 : request(unbounded)
2022-02-09 14:12:21.187 ERROR 13216 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.7                 : onError(org.springframework.dao.DuplicateKeyException: Write operation error on server localhost:45307. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: product-db.products index: productId dup key: { productId: 1 }', details={}}.; nested exception is com.mongodb.MongoWriteException: Write operation error on server localhost:45307. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: product-db.products index: productId dup key: { productId: 1 }', details={}}.)
2022-02-09 14:12:21.213 ERROR 13216 --- [nioEventLoopGroup-4-3] reactor.Mono.UsingWhen.7                 : 

org.springframework.dao.DuplicateKeyException: Write operation error on server localhost:45307. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: product-db.products index: productId dup key: { productId: 1 }', details={}}.; nested exception is com.mongodb.MongoWriteException: Write operation error on server localhost:45307. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: product-db.products index: productId dup key: { productId: 1 }', details={}}.
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:106) ~[spring-data-mongodb-3.3.1.jar:3.3.1]
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.potentiallyConvertRuntimeException(ReactiveMongoTemplate.java:2839) ~[spring-data-mongodb-3.3.1.jar:3.3.1]
	at org.springframework.data.mongodb.core.ReactiveMongoTemplate.lambda$translateException$91(ReactiveMongoTemplate.java:2822) ~[spring-data-mongodb-3.3.1.jar:3.3.1]
	at reactor.core.publisher.Flux.lambda$onErrorMap$28(Flux.java:6911) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) [reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:132) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106) [reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators.error(Operators.java:198) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103) [reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onError(MonoPeekTerminal.java:258) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:194) ~[reactor-core-3.4.14.jar:3.4.14]
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$30(MongoOperationPublisher.java:545) ~[mongodb-driver-reactivestreams-4.4.1.jar:na]
	at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$9(OperationExecutorImpl.java:124) ~[mongodb-driver-reactivestreams-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.CommandOperationHelper.lambda$exceptionTransformingCallback$23(CommandOperationHelper.java:627) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:95) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.RetryingAsyncCallbackSupplier$RetryingCallback.onResult(RetryingAsyncCallbackSupplier.java:109) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:95) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:95) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$executeBulkWriteBatchAsync$11(MixedBulkWriteOperation.java:424) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:84) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:61) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.LoopState.breakAndCompleteIf(LoopState.java:111) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$executeBulkWriteBatchAsync$10(MixedBulkWriteOperation.java:378) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:82) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.function.AsyncCallbackLoop$LoopingCallback.onResult(AsyncCallbackLoop.java:61) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$executeBulkWriteBatchAsync$9(MixedBulkWriteOperation.java:400) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor$2.onResult(DefaultServer.java:280) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.CommandProtocolImpl$1.onResult(CommandProtocolImpl.java:84) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection$1.onResult(DefaultConnectionPool.java:687) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.UsageTrackingInternalConnection$2.onResult(UsageTrackingInternalConnection.java:159) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:48) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:526) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:503) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:815) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:782) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:650) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:647) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:266) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.readAsync(InternalStreamConnection.java:647) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.access$600(InternalStreamConnection.java:86) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:772) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:757) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:650) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:647) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:347) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:105) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:421) ~[mongodb-driver-core-4.4.1.jar:na]
	at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:418) ~[mongodb-driver-core-4.4.1.jar:na]
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_312]
Caused by: com.mongodb.MongoWriteException: Write operation error on server localhost:45307. Write error: WriteError{code=11000, message='E11000 duplicate key error collection: product-db.products index: productId dup key: { productId: 1 }', details={}}.
	at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$createSingleWriteRequestMono$24(MongoOperationPublisher.java:490) ~[mongodb-driver-reactivestreams-4.4.1.jar:na]
	at reactor.core.publisher.Mono.lambda$onErrorMap$30(Mono.java:3719) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.lambda$onErrorResume$32(Mono.java:3809) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) [reactor-core-3.4.14.jar:3.4.14]
	... 67 common frames omitted

2022-02-09 14:12:21.414  INFO 13216 --- [reactor-http-epoll-4] reactor.Mono.SwitchIfEmpty.8             : onSubscribe(FluxSwitchIfEmpty.SwitchIfEmptySubscriber)
2022-02-09 14:12:21.415  INFO 13216 --- [reactor-http-epoll-4] reactor.Mono.SwitchIfEmpty.8             : request(unbounded)
2022-02-09 14:12:21.417 ERROR 13216 --- [nioEventLoopGroup-4-3] reactor.Mono.SwitchIfEmpty.8             : onError(se.magnus.util.exceptions.NotFoundException: No product found for productId: 13)
2022-02-09 14:12:21.419 ERROR 13216 --- [nioEventLoopGroup-4-3] reactor.Mono.SwitchIfEmpty.8             : 

se.magnus.util.exceptions.NotFoundException: No product found for productId: 13
	at se.magnus.microservices.core.product.services.ProductServiceImpl.getProduct(ProductServiceImpl.java:58) ~[main/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_312]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_312]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_312]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_312]
	at org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:144) ~[spring-webflux-5.3.15.jar:5.3.15]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:251) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:336) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:101) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2068) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:192) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4385) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:128) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:236) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:181) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators.complete(Operators.java:137) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:120) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:255) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:127) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:169) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2068) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:255) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.14.jar:3.4.14]
	at reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:962) ~[reactor-netty-http-1.0.15.jar:1.0.15]
	at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:671) ~[reactor-netty-core-1.0.15.jar:1.0.15]
	at reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:478) ~[reactor-netty-core-1.0.15.jar:1.0.15]
	at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:560) ~[reactor-netty-http-1.0.15.jar:1.0.15]
	at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93) ~[reactor-netty-core-1.0.15.jar:1.0.15]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:220) ~[reactor-netty-http-1.0.15.jar:1.0.15]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:327) ~[netty-codec-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:299) ~[netty-codec-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) ~[netty-transport-classes-epoll-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) ~[netty-transport-classes-epoll-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) ~[netty-transport-classes-epoll-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.73.Final.jar:4.1.73.Final]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_312]

2022-02-09 14:12:21.422 DEBUG 13216 --- [nioEventLoopGroup-4-3] s.m.u.h.GlobalControllerExceptionHandler : Returning HTTP status: 404 NOT_FOUND for path: /product/13, message: No product found for productId: 13
2022-02-09 14:12:21.453  INFO 13216 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 14:12:21.453  INFO 13216 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'product.errorChannel' has 0 subscriber(s).
2022-02-09 14:12:21.454  INFO 13216 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2022-02-09 14:12:21.484  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:21.483+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:48590","uuid":"2e72b448-5e9e-4b1b-bc74-b8ed859fdc24","connectionId":3,"connectionCount":2}}
2022-02-09 14:12:21.485  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:21.483+08:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn2","msg":"Interrupted operation as its client disconnected","attr":{"opId":145}}
2022-02-09 14:12:21.485  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:21.484+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:48586","uuid":"b6ae21b9-cc04-4bdb-840d-d66707ebe9a0","connectionId":1,"connectionCount":1}}
2022-02-09 14:12:21.485  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:21.484+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:48584","uuid":"88cd9a55-6df8-4f4d-8fc3-80c2e014de13","connectionId":2,"connectionCount":0}}
2022-02-09 14:12:23.527  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.527+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:48600","uuid":"8e559f1b-f5ea-4d9c-a8fc-65087a7c6b1e","connectionId":4,"connectionCount":1}}
2022-02-09 14:12:23.528  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.527+08:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn4","msg":"Terminating via shutdown command","attr":{"force":true,"timeoutSecs":0}}
2022-02-09 14:12:23.529  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.527+08:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"conn4","msg":"Attempting to enter quiesce mode"}
2022-02-09 14:12:23.530  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.527+08:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"conn4","msg":"Shutting down the MirrorMaestro"}
2022-02-09 14:12:23.530  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.527+08:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"conn4","msg":"Shutting down the WaitForMajorityService"}
2022-02-09 14:12:23.531  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.528+08:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"conn4","msg":"Shutting down the LogicalSessionCache"}
2022-02-09 14:12:23.532  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.528+08:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"conn4","msg":"Shutdown: going to close listening sockets"}
2022-02-09 14:12:23.533  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"NETWORK",  "id":23017,   "ctx":"listener","msg":"removing socket file","attr":{"path":"/tmp/mongodb-27017.sock"}}
2022-02-09 14:12:23.533  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"conn4","msg":"Shutting down the global connection pool"}
2022-02-09 14:12:23.534  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"conn4","msg":"Shutting down the FlowControlTicketholder"}
2022-02-09 14:12:23.534  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"conn4","msg":"Stopping further Flow Control ticket acquisitions."}
2022-02-09 14:12:23.535  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"conn4","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
2022-02-09 14:12:23.535  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"conn4","msg":"Shutting down the ReplicationCoordinator"}
2022-02-09 14:12:23.536  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"conn4","msg":"Shutting down the ShardingInitializationMongoD"}
2022-02-09 14:12:23.537  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"conn4","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
2022-02-09 14:12:23.538  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"conn4","msg":"Killing all operations for shutdown"}
2022-02-09 14:12:23.538  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"conn4","msg":"Interrupted all currently running operations","attr":{"opsKilled":2}}
2022-02-09 14:12:23.539  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"conn4","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
2022-02-09 14:12:23.539  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"conn4","msg":"Shutting down all open transactions"}
2022-02-09 14:12:23.540  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"conn4","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 14:12:23.540  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"conn4","msg":"Shutting down the IndexBuildsCoordinator"}
2022-02-09 14:12:23.541  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"REPL",     "id":4784916, "ctx":"conn4","msg":"Reacquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 14:12:23.541  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"REPL",     "id":4784917, "ctx":"conn4","msg":"Attempting to mark clean shutdown"}
2022-02-09 14:12:23.542  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"conn4","msg":"Shutting down the ReplicaSetMonitor"}
2022-02-09 14:12:23.542  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"conn4","msg":"Shutting down the MigrationUtilExecutor"}
2022-02-09 14:12:23.543  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
2022-02-09 14:12:23.543  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"conn4","msg":"Shutting down the ServiceEntryPoint"}
2022-02-09 14:12:23.543  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 14:12:23.544  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.529+08:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 14:12:23.544  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.530+08:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"conn4","msg":"Shutting down the HealthLog"}
2022-02-09 14:12:23.544  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.530+08:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"conn4","msg":"Shutting down the TTL monitor"}
2022-02-09 14:12:23.545  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.530+08:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"conn4","msg":"Shutting down TTL collection monitor thread"}
2022-02-09 14:12:23.546  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.530+08:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"conn4","msg":"Finished shutting down TTL collection monitor thread"}
2022-02-09 14:12:23.546  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.530+08:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"conn4","msg":"Acquiring the global lock for shutdown"}
2022-02-09 14:12:23.547  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.530+08:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"conn4","msg":"Shutting down the storage engine"}
2022-02-09 14:12:23.547  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.530+08:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"conn4","msg":"Shutting down journal flusher thread"}
2022-02-09 14:12:23.547  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.532+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"JournalFlusher","msg":"WiredTiger message","attr":{"message":"[1644387143:532207][13249:0x7f6fc4ff6700], WT_SESSION.checkpoint: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 60, snapshot max: 60 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 14:12:23.578  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.578+08:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"conn4","msg":"Finished shutting down journal flusher thread"}
2022-02-09 14:12:23.579  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.578+08:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"conn4","msg":"Shutting down checkpoint thread"}
2022-02-09 14:12:23.579  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.578+08:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"conn4","msg":"Finished shutting down checkpoint thread"}
2022-02-09 14:12:23.579  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.578+08:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"conn4","msg":"Deregistering all the collections"}
2022-02-09 14:12:23.580  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.578+08:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"conn4","msg":"Timestamp monitor shutting down"}
2022-02-09 14:12:23.580  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.579+08:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"conn4","msg":"WiredTigerKVEngine shutting down"}
2022-02-09 14:12:23.580  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.579+08:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"conn4","msg":"Shutting down session sweeper thread"}
2022-02-09 14:12:23.580  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.579+08:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"conn4","msg":"Finished shutting down session sweeper thread"}
2022-02-09 14:12:23.581  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.579+08:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"conn4","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
2022-02-09 14:12:23.581  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.579+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"conn4","msg":"WiredTiger message","attr":{"message":"[1644387143:579667][13249:0x7f6fbbee3700], close_ckpt: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 63, snapshot max: 63 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 14:12:23.593  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.593+08:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"conn4","msg":"WiredTiger closed","attr":{"durationMillis":14}}
2022-02-09 14:12:23.593  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.593+08:00"},"s":"I",  "c":"STORAGE",  "id":22279,   "ctx":"conn4","msg":"shutdown: removing fs lock..."}
2022-02-09 14:12:23.597  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.593+08:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"conn4","msg":"Dropping the scope cache for shutdown"}
2022-02-09 14:12:23.597  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.593+08:00"},"s":"I",  "c":"FTDC",     "id":4784926, "ctx":"conn4","msg":"Shutting down full-time data capture"}
2022-02-09 14:12:23.598  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.593+08:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"conn4","msg":"Shutting down full-time diagnostic data capture"}
2022-02-09 14:12:23.599  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.596+08:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"conn4","msg":"Now exiting"}
2022-02-09 14:12:23.600  INFO 13216 --- [Thread-6] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.596+08:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"conn4","msg":"Shutting down","attr":{"exitCode":0}}
2022-02-09 14:12:23.771  INFO 13216 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2022-02-09 14:12:23.771  INFO 13216 --- [SpringApplicationShutdownHook] o.s.i.channel.PublishSubscribeChannel    : Channel 'product.errorChannel' has 0 subscriber(s).
2022-02-09 14:12:23.771  INFO 13216 --- [SpringApplicationShutdownHook] o.s.i.endpoint.EventDrivenConsumer       : stopped bean '_org.springframework.integration.errorLogger'
2022-02-09 14:12:23.780  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.780+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn3","msg":"Connection ended","attr":{"remote":"127.0.0.1:52070","uuid":"331fd0ee-13cf-41a7-88da-a28418205979","connectionId":3,"connectionCount":2}}
2022-02-09 14:12:23.781  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.780+08:00"},"s":"I",  "c":"-",        "id":20883,   "ctx":"conn1","msg":"Interrupted operation as its client disconnected","attr":{"opId":64}}
2022-02-09 14:12:23.781  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.780+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn2","msg":"Connection ended","attr":{"remote":"127.0.0.1:52068","uuid":"973b1602-9c50-4100-a995-aa96652307c4","connectionId":2,"connectionCount":1}}
2022-02-09 14:12:23.781  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:23.780+08:00"},"s":"I",  "c":"NETWORK",  "id":22944,   "ctx":"conn1","msg":"Connection ended","attr":{"remote":"127.0.0.1:52066","uuid":"45396711-7251-4d19-8251-ab41a8e23918","connectionId":1,"connectionCount":0}}
2022-02-09 14:12:25.810  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.809+08:00"},"s":"I",  "c":"NETWORK",  "id":22943,   "ctx":"listener","msg":"Connection accepted","attr":{"remote":"127.0.0.1:52076","uuid":"152fa8fc-c3b9-4099-98a8-22f3423a8731","connectionId":4,"connectionCount":1}}
2022-02-09 14:12:25.811  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.810+08:00"},"s":"I",  "c":"COMMAND",  "id":4695400, "ctx":"conn4","msg":"Terminating via shutdown command","attr":{"force":true,"timeoutSecs":0}}
2022-02-09 14:12:25.812  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.810+08:00"},"s":"I",  "c":"REPL",     "id":4794602, "ctx":"conn4","msg":"Attempting to enter quiesce mode"}
2022-02-09 14:12:25.812  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.810+08:00"},"s":"I",  "c":"COMMAND",  "id":4784901, "ctx":"conn4","msg":"Shutting down the MirrorMaestro"}
2022-02-09 14:12:25.813  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.810+08:00"},"s":"I",  "c":"SHARDING", "id":4784902, "ctx":"conn4","msg":"Shutting down the WaitForMajorityService"}
2022-02-09 14:12:25.814  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.811+08:00"},"s":"I",  "c":"CONTROL",  "id":4784903, "ctx":"conn4","msg":"Shutting down the LogicalSessionCache"}
2022-02-09 14:12:25.815  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.811+08:00"},"s":"I",  "c":"NETWORK",  "id":20562,   "ctx":"conn4","msg":"Shutdown: going to close listening sockets"}
2022-02-09 14:12:25.815  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"NETWORK",  "id":23017,   "ctx":"listener","msg":"removing socket file","attr":{"path":"/tmp/mongodb-45307.sock"}}
2022-02-09 14:12:25.816  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"NETWORK",  "id":4784905, "ctx":"conn4","msg":"Shutting down the global connection pool"}
2022-02-09 14:12:25.816  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"CONTROL",  "id":4784906, "ctx":"conn4","msg":"Shutting down the FlowControlTicketholder"}
2022-02-09 14:12:25.817  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"-",        "id":20520,   "ctx":"conn4","msg":"Stopping further Flow Control ticket acquisitions."}
2022-02-09 14:12:25.818  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"CONTROL",  "id":4784908, "ctx":"conn4","msg":"Shutting down the PeriodicThreadToAbortExpiredTransactions"}
2022-02-09 14:12:25.818  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"REPL",     "id":4784909, "ctx":"conn4","msg":"Shutting down the ReplicationCoordinator"}
2022-02-09 14:12:25.819  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"SHARDING", "id":4784910, "ctx":"conn4","msg":"Shutting down the ShardingInitializationMongoD"}
2022-02-09 14:12:25.819  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"REPL",     "id":4784911, "ctx":"conn4","msg":"Enqueuing the ReplicationStateTransitionLock for shutdown"}
2022-02-09 14:12:25.820  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"-",        "id":4784912, "ctx":"conn4","msg":"Killing all operations for shutdown"}
2022-02-09 14:12:25.820  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"-",        "id":4695300, "ctx":"conn4","msg":"Interrupted all currently running operations","attr":{"opsKilled":2}}
2022-02-09 14:12:25.821  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"TENANT_M", "id":5093807, "ctx":"conn4","msg":"Shutting down all TenantMigrationAccessBlockers on global shutdown"}
2022-02-09 14:12:25.821  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"COMMAND",  "id":4784913, "ctx":"conn4","msg":"Shutting down all open transactions"}
2022-02-09 14:12:25.822  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"REPL",     "id":4784914, "ctx":"conn4","msg":"Acquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 14:12:25.822  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"INDEX",    "id":4784915, "ctx":"conn4","msg":"Shutting down the IndexBuildsCoordinator"}
2022-02-09 14:12:25.823  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"REPL",     "id":4784916, "ctx":"conn4","msg":"Reacquiring the ReplicationStateTransitionLock for shutdown"}
2022-02-09 14:12:25.823  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"REPL",     "id":4784917, "ctx":"conn4","msg":"Attempting to mark clean shutdown"}
2022-02-09 14:12:25.824  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"NETWORK",  "id":4784918, "ctx":"conn4","msg":"Shutting down the ReplicaSetMonitor"}
2022-02-09 14:12:25.824  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.812+08:00"},"s":"I",  "c":"SHARDING", "id":4784921, "ctx":"conn4","msg":"Shutting down the MigrationUtilExecutor"}
2022-02-09 14:12:25.825  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.813+08:00"},"s":"I",  "c":"ASIO",     "id":22582,   "ctx":"MigrationUtil-TaskExecutor","msg":"Killing all outstanding egress activity."}
2022-02-09 14:12:25.825  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.813+08:00"},"s":"I",  "c":"COMMAND",  "id":4784923, "ctx":"conn4","msg":"Shutting down the ServiceEntryPoint"}
2022-02-09 14:12:25.826  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.813+08:00"},"s":"I",  "c":"CONTROL",  "id":4784925, "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 14:12:25.826  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.813+08:00"},"s":"I",  "c":"CONTROL",  "id":20609,   "ctx":"conn4","msg":"Shutting down free monitoring"}
2022-02-09 14:12:25.826  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.813+08:00"},"s":"I",  "c":"CONTROL",  "id":4784927, "ctx":"conn4","msg":"Shutting down the HealthLog"}
2022-02-09 14:12:25.827  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.813+08:00"},"s":"I",  "c":"CONTROL",  "id":4784928, "ctx":"conn4","msg":"Shutting down the TTL monitor"}
2022-02-09 14:12:25.827  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.813+08:00"},"s":"I",  "c":"INDEX",    "id":3684100, "ctx":"conn4","msg":"Shutting down TTL collection monitor thread"}
2022-02-09 14:12:25.827  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.813+08:00"},"s":"I",  "c":"INDEX",    "id":3684101, "ctx":"conn4","msg":"Finished shutting down TTL collection monitor thread"}
2022-02-09 14:12:25.828  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.813+08:00"},"s":"I",  "c":"CONTROL",  "id":4784929, "ctx":"conn4","msg":"Acquiring the global lock for shutdown"}
2022-02-09 14:12:25.828  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.813+08:00"},"s":"I",  "c":"CONTROL",  "id":4784930, "ctx":"conn4","msg":"Shutting down the storage engine"}
2022-02-09 14:12:25.828  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.813+08:00"},"s":"I",  "c":"STORAGE",  "id":22320,   "ctx":"conn4","msg":"Shutting down journal flusher thread"}
2022-02-09 14:12:25.829  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.816+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"JournalFlusher","msg":"WiredTiger message","attr":{"message":"[1644387145:816411][13297:0x7fbf46074700], WT_SESSION.checkpoint: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 51, snapshot max: 51 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 14:12:25.897  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.897+08:00"},"s":"I",  "c":"STORAGE",  "id":22321,   "ctx":"conn4","msg":"Finished shutting down journal flusher thread"}
2022-02-09 14:12:25.898  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.897+08:00"},"s":"I",  "c":"STORAGE",  "id":22322,   "ctx":"conn4","msg":"Shutting down checkpoint thread"}
2022-02-09 14:12:25.899  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.898+08:00"},"s":"I",  "c":"STORAGE",  "id":22323,   "ctx":"conn4","msg":"Finished shutting down checkpoint thread"}
2022-02-09 14:12:25.899  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.898+08:00"},"s":"I",  "c":"STORAGE",  "id":20282,   "ctx":"conn4","msg":"Deregistering all the collections"}
2022-02-09 14:12:25.900  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.898+08:00"},"s":"I",  "c":"STORAGE",  "id":22261,   "ctx":"conn4","msg":"Timestamp monitor shutting down"}
2022-02-09 14:12:25.900  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.898+08:00"},"s":"I",  "c":"STORAGE",  "id":22317,   "ctx":"conn4","msg":"WiredTigerKVEngine shutting down"}
2022-02-09 14:12:25.901  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.898+08:00"},"s":"I",  "c":"STORAGE",  "id":22318,   "ctx":"conn4","msg":"Shutting down session sweeper thread"}
2022-02-09 14:12:25.901  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.898+08:00"},"s":"I",  "c":"STORAGE",  "id":22319,   "ctx":"conn4","msg":"Finished shutting down session sweeper thread"}
2022-02-09 14:12:25.902  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.898+08:00"},"s":"I",  "c":"STORAGE",  "id":4795902, "ctx":"conn4","msg":"Closing WiredTiger","attr":{"closeConfig":"leak_memory=true,"}}
2022-02-09 14:12:25.902  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.900+08:00"},"s":"I",  "c":"STORAGE",  "id":22430,   "ctx":"conn4","msg":"WiredTiger message","attr":{"message":"[1644387145:900022][13297:0x7fbf3d062700], close_ckpt: [WT_VERB_CHECKPOINT_PROGRESS] saving checkpoint snapshot min: 54, snapshot max: 54 snapshot count: 0, oldest timestamp: (0, 0) , meta checkpoint timestamp: (0, 0) base write gen: 1"}}
2022-02-09 14:12:25.919  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.919+08:00"},"s":"I",  "c":"STORAGE",  "id":4795901, "ctx":"conn4","msg":"WiredTiger closed","attr":{"durationMillis":21}}
2022-02-09 14:12:25.920  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.919+08:00"},"s":"I",  "c":"STORAGE",  "id":22279,   "ctx":"conn4","msg":"shutdown: removing fs lock..."}
2022-02-09 14:12:25.920  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.919+08:00"},"s":"I",  "c":"-",        "id":4784931, "ctx":"conn4","msg":"Dropping the scope cache for shutdown"}
2022-02-09 14:12:25.921  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.919+08:00"},"s":"I",  "c":"FTDC",     "id":4784926, "ctx":"conn4","msg":"Shutting down full-time data capture"}
2022-02-09 14:12:25.921  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.919+08:00"},"s":"I",  "c":"FTDC",     "id":20626,   "ctx":"conn4","msg":"Shutting down full-time diagnostic data capture"}
2022-02-09 14:12:25.922  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.922+08:00"},"s":"I",  "c":"CONTROL",  "id":20565,   "ctx":"conn4","msg":"Now exiting"}
2022-02-09 14:12:25.923  INFO 13216 --- [Thread-10] o.s.b.a.mongo.embedded.EmbeddedMongo     : {"t":{"$date":"2022-02-09T14:12:25.922+08:00"},"s":"I",  "c":"CONTROL",  "id":23138,   "ctx":"conn4","msg":"Shutting down","attr":{"exitCode":0}}
